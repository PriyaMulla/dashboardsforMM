<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Measurement Classes &mdash; Time Tagger User Manual 2.16.2.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/iconTT.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="In Depth Guides" href="../InDepthGuides/index.html" />
    <link rel="prev" title="Virtual Channels" href="VirtualChannels.html" />
 
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WXS6LN3');</script>
<!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WXS6LN3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
 

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >


          
          
          <a href="../index.html" class="icon icon-home">
            Time Tagger User Manual
              <img src="../_static/logo_white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.16.2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

<div id="link_documentation_pdf" style="margin-top:20px;">
    <a style="font-weight:normal;color:#fcfcfc" target="_blank" href="/static/downloads/TimeTagger_User_Manual.pdf">
<svg version="1.1"  width="13px" height="14px" viewBox="0 0 13 14" xmlns="http://www.w3.org/2000/svg">
<g id="Download" fill="#fff">
<path d="m10 6.5-0.74-0.76-2.4 2.4v-8.2h-1.1v8.2l-2.4-2.4-0.74 0.76 3.6 3.6z"></path>
<path d="m1.1 13v-2.7h-1.1v3.8h13v-3.9h-1.1v2.9z"></path>
</g>
</svg>
        Documentation as pdf
    </a>
</div>
<script>
    // Hide the pdf download link when we detect that the file is served from the local file system.
    // Mostly likly to identify the ttlab offline documentation browser
    if(window.location.protocol === "file:") {
        document.getElementById("link_documentation_pdf").style.display = "none";
    }
</script>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../sections/gettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sections/installation.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synchronizer/index.html">Synchronizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sections/hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sections/software.html">Software Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Application Programmer’s Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="TimeTaggerLibrary.html">The TimeTagger Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="TimeTagger.html">TimeTagger classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="VirtualChannels.html">Virtual Channels</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Measurement Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#available-measurement-classes">Available measurement classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-methods">Common methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#IteratorBase"><code class="docutils literal notranslate"><span class="pre">IteratorBase</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#event-counting">Event counting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#countrate">Countrate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#counter">Counter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#countbetweenmarkers">CountBetweenMarkers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#time-histograms">Time histograms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#startstop">StartStop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#histogram">Histogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="#histogramlogbins">HistogramLogBins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#histogram2d">Histogram2D</a></li>
<li class="toctree-l4"><a class="reference internal" href="#histogramnd">HistogramND</a></li>
<li class="toctree-l4"><a class="reference internal" href="#correlation">Correlation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timedifferences">TimeDifferences</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timedifferencesnd">TimeDifferencesND</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fluorescence-lifetime-imaging-flim">Fluorescence-lifetime imaging (FLIM)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#flim">Flim</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flimframeinfo">FlimFrameInfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flimbase">FlimBase</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#frequency-analysis">Frequency analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#frequencystability">FrequencyStability</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#time-tag-streaming">Time-tag-streaming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#timetagstream">TimeTagStream</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filewriter">FileWriter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filereader">FileReader</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dump">Dump</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scope">Scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sampler">Sampler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#helper-classes">Helper classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synchronizedmeasurements">SynchronizedMeasurements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#custom-measurements">Custom Measurements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#CustomMeasurement"><code class="docutils literal notranslate"><span class="pre">CustomMeasurement</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../InDepthGuides/index.html">In Depth Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sections/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sections/UsageStatistics.html">Usage Statistics Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sections/changelog.html">Revision History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Time Tagger User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Application Programmer’s Interface</a></li>
      <li class="breadcrumb-item active">Measurement Classes</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="measurement-classes">
<h1>Measurement Classes<a class="headerlink" href="#measurement-classes" title="Permalink to this heading"></a></h1>
<p>The Time Tagger library includes several classes that implement various measurements. All measurements are derived from a base class called <a class="reference internal" href="#IteratorBase" title="IteratorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">IteratorBase</span></code></a> that is described further down. As the name suggests, it uses the <cite>iterator</cite> programming concept.</p>
<p>All measurements provide a set of methods to start and stop the execution and to access the accumulated data. In a typical application, the following steps are performed (see <a class="reference internal" href="examples.html#api-example-crosscorr-measurement"><span class="std std-ref">example</span></a>):</p>
<ol class="arabic simple">
<li><p>Create an instance of a measurement</p></li>
<li><p>Wait for some time</p></li>
<li><p>Retrieve the data accumulated by the measurement by calling a <code class="code docutils literal notranslate"><span class="pre">.getData()</span></code> method.</p></li>
</ol>
<section id="available-measurement-classes">
<h2>Available measurement classes<a class="headerlink" href="#available-measurement-classes" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In MATLAB, the Measurement names have common prefix <code class="docutils literal notranslate"><span class="pre">TT*</span></code>. For example: <code class="docutils literal notranslate"><span class="pre">Correlation</span></code> is named as <code class="docutils literal notranslate"><span class="pre">TTCorrelation</span></code>. This prevents possible name collisions with existing MATLAB or user functions.</p>
</div>
<dl class="simple">
<dt><a class="reference internal" href="#correlation">Correlation</a></dt><dd><p>Auto- and Cross-correlation measurement.</p>
</dd>
<dt><a class="reference internal" href="#countbetweenmarkers">CountBetweenMarkers</a></dt><dd><p>Counts tags on one channel within bins which are determined by triggers on one or two other channels. Uses a static buffer output. Use this to implement a gated counter, a counter synchronized to external signals, etc.</p>
</dd>
<dt><a class="reference internal" href="#counter">Counter</a></dt><dd><p>Counts the clicks on one or more channels with a fixed bin width and a circular buffer output.</p>
</dd>
<dt><a class="reference internal" href="#countrate">Countrate</a></dt><dd><p>Average tag rate on one or more channels.</p>
</dd>
<dt><a class="reference internal" href="#flim">Flim</a></dt><dd><p>Fluorescence lifetime imaging.</p>
</dd>
<dt><a class="reference internal" href="#frequencystability">FrequencyStability</a></dt><dd><p>Analyzes the frequency stability of period signals.</p>
</dd>
<dt><cite>IteratorBase</cite></dt><dd><p>Base class for implementing custom measurements (only C++).</p>
</dd>
<dt><a class="reference internal" href="#histogram">Histogram</a></dt><dd><p>A simple histogram of time differences. This can be used to measure lifetime, for example.</p>
</dd>
<dt><a class="reference internal" href="#histogram2d">Histogram2D</a></dt><dd><p>A 2-dimensional histogram of correlated time differences. This can be used in measurements similar to 2D NRM spectroscopy. (Single-Start, Single-Stop)</p>
</dd>
<dt><a class="reference internal" href="#histogramnd">HistogramND</a></dt><dd><p>A n-dimensional histogram of correlated time differences. (Single-Start, Single-Stop)</p>
</dd>
<dt><a class="reference internal" href="#histogramlogbins">HistogramLogBins</a></dt><dd><p>Accumulates time differences into a histogram with logarithmic increasing bin sizes.</p>
</dd>
<dt><a class="reference internal" href="#scope">Scope</a></dt><dd><p>Detects the rising and falling edges on a channel to visualize the incoming signals similar to an ultrafast logic analyzer.</p>
</dd>
<dt><a class="reference internal" href="#startstop">StartStop</a></dt><dd><p>Accumulates a histogram of time differences between pairs of tags on two channels. Only the first stop tag after a start tag is considered. Subsequent stop tags are discarded. The histogram length is unlimited. Bins and counts are stored in an array of tuples. (Single-Start, Single-Stop)</p>
</dd>
<dt><a class="reference internal" href="#timedifferences">TimeDifferences</a></dt><dd><p>Accumulates the time differences between tags on two channels in one or more histograms. The sweeping through of histograms is optionally controlled by one or two additional triggers.</p>
</dd>
<dt><a class="reference internal" href="#timedifferencesnd">TimeDifferencesND</a></dt><dd><p>A multidimensional implementation of the TimeDifferences measurement for asynchronous next histogram triggers.</p>
</dd>
<dt><a class="reference internal" href="#synchronizedmeasurements">SynchronizedMeasurements</a></dt><dd><p>Helper class that allows synchronization of the measurement classes.</p>
</dd>
<dt><a class="reference internal" href="#dump">Dump</a></dt><dd><p>Deprecated - please use <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> instead. Dump measurement writes all time-tags into a file.</p>
</dd>
<dt><a class="reference internal" href="#timetagstream">TimeTagStream</a></dt><dd><p>This class provides you with access to the time-tag stream and allows you to implement your own on-the-fly processing.
See <a class="reference internal" href="../InDepthGuides/RawTimeTagStreamAccess.html"><span class="doc">Raw Time-Tag-Stream access</span></a> to get on overview about the possibilities for the raw time-tag-stream access.</p>
</dd>
<dt><a class="reference internal" href="#sampler">Sampler</a></dt><dd><p>The <cite>Sampler</cite> class allows sampling the state of a set of channels via a trigger channel.</p>
</dd>
<dt><a class="reference internal" href="#filewriter">FileWriter</a></dt><dd><p>This class writes time-tags into a file with a lossless compression. It replaces the <a class="reference internal" href="#Dump" title="Dump"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dump</span></code></a> class.</p>
</dd>
<dt><a class="reference internal" href="#filereader">FileReader</a></dt><dd><p>Allows you to read time-tags from a file written by the <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a>.</p>
</dd>
</dl>
</section>
<section id="common-methods">
<span id="id1"></span><h2>Common methods<a class="headerlink" href="#common-methods" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="IteratorBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IteratorBase</span></span><a class="headerlink" href="#IteratorBase" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.clear" title="Permalink to this definition"></a></dt>
<dd><p>Discards accumulated measurement data, initializes the data buffer with zero values, and resets the state to the initial state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.start" title="Permalink to this definition"></a></dt>
<dd><p>Starts or continues data acquisition. This method is implicitly called when a measurement object is created.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.startFor">
<span class="sig-name descname"><span class="pre">startFor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duration</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">clear=True</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.startFor" title="Permalink to this definition"></a></dt>
<dd><p>Starts or continues the data acquisition for the given duration (in ps). After the <cite>duration</cite> time, the method <a class="reference internal" href="#IteratorBase.stop" title="IteratorBase.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a> is called and <a class="reference internal" href="#IteratorBase.isRunning" title="IteratorBase.isRunning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isRunning()</span></code></a> will return False. Whether the accumulated data is cleared at the beginning of <a class="reference internal" href="#IteratorBase.startFor" title="IteratorBase.startFor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startFor()</span></code></a> is controlled with the second parameter <cite>clear</cite>, which is True by default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.stop" title="Permalink to this definition"></a></dt>
<dd><p>After calling this method, the measurement will stop processing incoming tags. Use <a class="reference internal" href="#IteratorBase.start" title="IteratorBase.start"><code class="xref py py-meth docutils literal notranslate"><span class="pre">start()</span></code></a> or <a class="reference internal" href="#IteratorBase.startFor" title="IteratorBase.startFor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startFor()</span></code></a> to continue or restart the measurement.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.isRunning">
<span class="sig-name descname"><span class="pre">isRunning</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.isRunning" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the measurement is collecting the data. This method will return False if the measurement was stopped manually by calling <a class="reference internal" href="#IteratorBase.stop" title="IteratorBase.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a> or automatically after calling <a class="reference internal" href="#IteratorBase.startFor" title="IteratorBase.startFor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startFor()</span></code></a> and the <cite>duration</cite> has passed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All measurements start accumulating data immediately after their creation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True/False</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.waitUntilFinished">
<span class="sig-name descname"><span class="pre">waitUntilFinished</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.waitUntilFinished" title="Permalink to this definition"></a></dt>
<dd><p>Blocks the execution until the measurement has finished. Can be used with <a class="reference internal" href="#IteratorBase.startFor" title="IteratorBase.startFor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startFor()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – timeout in milliseconds. Negative value means no timeout, zero returns immediately.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the measurement has finished, False on timeout</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.getCaptureDuration">
<span class="sig-name descname"><span class="pre">getCaptureDuration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.getCaptureDuration" title="Permalink to this definition"></a></dt>
<dd><p>Total capture duration since the measurement creation or last call to <a class="reference internal" href="#IteratorBase.clear" title="IteratorBase.clear"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Capture duration in ps</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="IteratorBase.getConfiguration">
<span class="sig-name descname"><span class="pre">getConfiguration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#IteratorBase.getConfiguration" title="Permalink to this definition"></a></dt>
<dd><p>Returns configuration data of the measurement object. The configuration includes the measurement name,
and the values of the current parameters.
Information returned by this method is also provided with <a class="reference internal" href="TimeTagger.html#TimeTaggerBase.getConfiguration" title="TimeTaggerBase.getConfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeTaggerBase.getConfiguration()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Configuration data of the measurement object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="event-counting">
<h2>Event counting<a class="headerlink" href="#event-counting" title="Permalink to this heading"></a></h2>
<section id="countrate">
<h3>Countrate<a class="headerlink" href="#countrate" title="Permalink to this heading"></a></h3>
<img alt="../_images/Countrate.svg" src="../_images/Countrate.svg" /><p>Measures the average count rate on one or more channels. Specifically, it
determines the counts per second on the specified channels starting from the very first tag arriving after the instantiation or last call to <a class="reference internal" href="#IteratorBase.clear" title="IteratorBase.clear"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear()</span></code></a> of the measurement.
The <a class="reference internal" href="#Countrate" title="Countrate"><code class="xref py py-class docutils literal notranslate"><span class="pre">Countrate</span></code></a> works correctly even when the USB transfer rate or backend processing capabilities are exceeded.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Countrate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Countrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Countrate" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – channels for which the average count rate is measured</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Countrate.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Countrate.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Average count rate in counts per second.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Countrate.getCountsTotal">
<span class="sig-name descname"><span class="pre">getCountsTotal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Countrate.getCountsTotal" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total number of events since the instantiation of this object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="counter">
<h3>Counter<a class="headerlink" href="#counter" title="Permalink to this heading"></a></h3>
<img alt="../_images/Counter.svg" src="../_images/Counter.svg" /><p>Time trace of the count rate on one or more channels.
Specifically, this measurement repeatedly counts tags within a
time interval <cite>binwidth</cite> and stores the results in a two-dimensional array of size <cite>number of channels</cite> by <cite>n_values</cite>.
The incoming data is first accumulated in a not-accessible bin.
When the integration time of this bin has passed, the accumulated data is added to the internal buffer, which can be accessed via the <cite>getData…</cite> methods.
Data stored in the internal circular buffer is overwritten when <cite>n_values</cite> are exceeded. You can prevent this by automatically stopping the measurement in time as follows <code class="docutils literal notranslate"><span class="pre">counter.startFor(duration=binwidth*n_values)</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Counter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Counter" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – channels used for counting tags</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin width in ps</p></li>
<li><p><strong>n_values</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of bins (data buffer size)</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Counter.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">rolling=True</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Counter.getData" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of accumulated counter bins for each channel.
The optional parameter <cite>rolling</cite>, controls if the not integrated bins are padded before or after the integrated bins.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">rolling=True</span></code>, the most recent data is stored in the last bin of the array and every new completed bin shifts all other bins right-to-left.
When continuously plotted, this creates an effect of rolling trace plot.
For instance, it is useful for continuous monitoring of countrate changes over time.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">rolling=False</span></code>, the most recent data is stored in the next bin after previous such that the array is filled up left-to-right.
When array becomes full and the Counter is still running, the array index will be reset to zero and the array will be filled again overwriting previous values.
This operation is sometimes called “sweep plotting”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rolling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Controls how the counter array is filled.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of size ‘number of channels’ by <cite>n_values</cite> containing the counts in each fully integrated bin.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Counter.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Counter.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_values</cite> containing the time bins in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Counter.getDataNormalized">
<span class="sig-name descname"><span class="pre">getDataNormalized</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">rolling=True</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Counter.getDataNormalized" title="Permalink to this definition"></a></dt>
<dd><p>Does the same as <a class="reference internal" href="#Counter.getData" title="Counter.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getData()</span></code></a> but returns the count rate in Hz as a float. Not integrated bins and bins in overflow mode are marked as <cite>NaN</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Counter.getDataTotalCounts">
<span class="sig-name descname"><span class="pre">getDataTotalCounts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Counter.getDataTotalCounts" title="Permalink to this definition"></a></dt>
<dd><p>Returns total number of events per channel since the last call to <a class="reference internal" href="#IteratorBase.clear" title="IteratorBase.clear"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear()</span></code></a>, including the currently integrating bin. This method works correctly even when the USB transfer rate or backend processing capabilities are exceeded.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of events per channel.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Counter.getDataObject">
<span class="sig-name descname"><span class="pre">getDataObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Counter.getDataObject" title="Permalink to this definition"></a></dt>
<dd><p>Returns <a class="reference internal" href="#CounterData" title="CounterData"><code class="xref py py-class docutils literal notranslate"><span class="pre">CounterData</span></code></a> object containing a snapshot of the data accumulated in the <a class="reference internal" href="#Counter" title="Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> at the time this method is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>remove</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Controls if the returned data shall be removed from the internal buffer.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An object providing access to a snapshot data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#CounterData" title="CounterData">CounterData</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CounterData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CounterData</span></span><a class="headerlink" href="#CounterData" title="Permalink to this definition"></a></dt>
<dd><p>Objects of this class are created and returned by <a class="reference internal" href="#Counter.getDataObject" title="Counter.getDataObject"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Counter.getDataObject()</span></code></a>,
and contain a snapshot of the data accumulated by the <a class="reference internal" href="#Counter" title="Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> measurement.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="CounterData.size">
<span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#CounterData.size" title="Permalink to this definition"></a></dt>
<dd><p>Number of returned bins.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CounterData.dropped_bins">
<span class="sig-name descname"><span class="pre">dropped_bins</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#CounterData.dropped_bins" title="Permalink to this definition"></a></dt>
<dd><p>Number of bins which have been dropped because <cite>n_values</cite> of the <a class="reference internal" href="#Counter" title="Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> has been exceeded.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CounterData.overflow">
<span class="sig-name descname"><span class="pre">overflow</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#CounterData.overflow" title="Permalink to this definition"></a></dt>
<dd><p>Status flag for whether any of the returned bins have been in overflow mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CounterData.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CounterData.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <a class="reference internal" href="#CounterData.size" title="CounterData.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> containing the time bins in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CounterData.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CounterData.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of size ‘number of channels’ by <a class="reference internal" href="#CounterData.size" title="CounterData.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> containing only fully integrated bins.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CounterData.getDataNormalized">
<span class="sig-name descname"><span class="pre">getDataNormalized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CounterData.getDataNormalized" title="Permalink to this definition"></a></dt>
<dd><p>Does the same as <a class="reference internal" href="#CounterData.getData" title="CounterData.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getData()</span></code></a> but returns the count rate in counts/second. Bins in overflow mode are marked as <cite>NaN</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CounterData.getDataTotalCounts">
<span class="sig-name descname"><span class="pre">getDataTotalCounts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CounterData.getDataTotalCounts" title="Permalink to this definition"></a></dt>
<dd><p>Returns the total number of events per channel since the last call to <a class="reference internal" href="#IteratorBase.clear" title="IteratorBase.clear"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear()</span></code></a>, excluding the counts of the internal bin where data is currently integrated into.
This method works correctly even when the USB transfer rate or backend processing capabilities are exceeded.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of events per channel.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CounterData.getTime">
<span class="sig-name descname"><span class="pre">getTime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CounterData.getTime" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <a class="reference internal" href="#CounterData.size" title="CounterData.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> containing the time corresponding to the return value of <a class="reference internal" href="#CounterData.getData" title="CounterData.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CounterData.getData()</span></code></a> in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CounterData.getOverflowMask">
<span class="sig-name descname"><span class="pre">getOverflowMask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CounterData.getOverflowMask" title="Permalink to this definition"></a></dt>
<dd><p>Array of values for each bin that indicate if an overflow occurred during accumulation of the respective bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of size <a class="reference internal" href="#CounterData.size" title="CounterData.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">size</span></code></a> containing overflow mask.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="countbetweenmarkers">
<span id="api-countbetweenmarkers"></span><h3>CountBetweenMarkers<a class="headerlink" href="#countbetweenmarkers" title="Permalink to this heading"></a></h3>
<img alt="../_images/CountBetweenMarkers.svg" src="../_images/CountBetweenMarkers.svg" /><p>Counts events on a single channel within the time indicated by a “start” and “stop” signals. The bin edges between which counts are accumulated are determined by one or more hardware triggers. Specifically, the measurement records data into a vector of length <cite>n_values</cite> (initially filled with zeros).
It waits for tags on the <cite>begin_channel</cite>. When a tag is detected on the <cite>begin_channel</cite> it starts counting tags on the <cite>click_channel</cite>. When the next tag is detected on the <cite>begin_channel</cite> it stores the current counter value as the next entry in the data vector, resets the counter to zero and starts accumulating counts again. If an <cite>end_channel</cite> is specified, the measurement stores the current counter value and resets the counter when a tag is detected on the <cite>end_channel</cite> rather than the <cite>begin_channel</cite>. You can use this, e.g., to accumulate counts within a gate by using rising edges on one channel as the <cite>begin_channel</cite> and falling edges on the same channel as the <cite>end_channel</cite>. The accumulation time for each value can be accessed via <a class="reference internal" href="#CountBetweenMarkers.getBinWidths" title="CountBetweenMarkers.getBinWidths"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getBinWidths()</span></code></a>.
The measurement stops when all entries in the data vector are filled.</p>
<dl class="py class">
<dt class="sig sig-object py" id="CountBetweenMarkers">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CountBetweenMarkers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CountBetweenMarkers" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which clicks are received, gated by begin_channel and end_channel</p></li>
<li><p><strong>begin_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel that triggers the beginning of counting and stepping to the next value</p></li>
<li><p><strong>end_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel that triggers the end of counting (optional, default: <a class="reference internal" href="TimeTaggerLibrary.html#CHANNEL_UNUSED" title="CHANNEL_UNUSED"><code class="xref py py-const docutils literal notranslate"><span class="pre">CHANNEL_UNUSED</span></code></a>)</p></li>
<li><p><strong>n_values</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of values stored (data buffer size)</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="CountBetweenMarkers.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CountBetweenMarkers.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Array of size <cite>n_values</cite> containing the acquired counter values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CountBetweenMarkers.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CountBetweenMarkers.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Vector of size <cite>n_values</cite> containing the time in ps of each start click in respect to the very first start click.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CountBetweenMarkers.getBinWidths">
<span class="sig-name descname"><span class="pre">getBinWidths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CountBetweenMarkers.getBinWidths" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Vector of size <cite>n_values</cite> containing the time differences of ‘start -&gt; (next start or stop)’ for the acquired counter values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CountBetweenMarkers.ready">
<span class="sig-name descname"><span class="pre">ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CountBetweenMarkers.ready" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True when the entire array is filled.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="time-histograms">
<h2>Time histograms<a class="headerlink" href="#time-histograms" title="Permalink to this heading"></a></h2>
<p>This section describes various measurements that calculate time differences between events and accumulate the results into a histogram.</p>
<section id="startstop">
<h3>StartStop<a class="headerlink" href="#startstop" title="Permalink to this heading"></a></h3>
<img alt="../_images/StartStop.svg" src="../_images/StartStop.svg" /><p>A simple start-stop measurement. This class performs a start-stop
measurement between two channels and stores the time differences
in a histogram. The histogram resolution
is specified beforehand (<cite>binwidth</cite>) but the histogram range (number of bins) is unlimited. It is adapted to the largest time difference that was detected. Thus,
all pairs of subsequent clicks are registered. Only non-empty bins
are recorded.</p>
<dl class="py class">
<dt class="sig sig-object py" id="StartStop">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StartStop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StartStop" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which stop clicks are received</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin width in ps</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="StartStop.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#StartStop.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of tuples (array of shape Nx2) containing the times (in ps) and counts of each bin. Only non-empty bins are returned.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="histogram">
<h3>Histogram<a class="headerlink" href="#histogram" title="Permalink to this heading"></a></h3>
<img alt="../_images/Histogram.svg" src="../_images/Histogram.svg" /><p>Accumulate time differences into a histogram. This is a simple multiple start,
multiple stop measurement. This is a special case of the more general <a class="reference internal" href="#timedifferences">TimeDifferences</a> measurement.
Specifically, the measurement waits for clicks on the <cite>start_channel</cite>,
and for each start click, it measures the time difference between
the start clicks and all subsequent clicks on the <cite>click_channel</cite>
and stores them in a histogram.
The histogram range and resolution are specified by the number of bins
and the bin width specified in ps. Clicks that fall outside the histogram range are ignored. Data accumulation is performed independently for all start clicks.
This type of measurement is frequently referred to as a ‘multiple start, multiple stop’ measurement and corresponds to a full auto- or cross-correlation measurement.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Histogram">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Histogram" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which clicks are received</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin width in ps</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the number of bins in the histogram</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Histogram.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Histogram.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A one-dimensional array of size <cite>n_bins</cite> containing the histogram.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Histogram.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Histogram.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_bins</cite> containing the time bins in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="histogramlogbins">
<h3>HistogramLogBins<a class="headerlink" href="#histogramlogbins" title="Permalink to this heading"></a></h3>
<p>The HistogramLogBins measurement is similar to <a class="reference internal" href="#histogram">Histogram</a> but the bin widths are spaced logarithmically.</p>
<img alt="../_images/HistogramLogBins.svg" src="../_images/HistogramLogBins.svg" /><dl class="py class">
<dt class="sig sig-object py" id="HistogramLogBins">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HistogramLogBins</span></span><a class="headerlink" href="#HistogramLogBins" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which clicks are received</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received</p></li>
<li><p><strong>exp_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – exponent <code class="docutils literal notranslate"><span class="pre">10^exp_start</span></code> in seconds where the very first bin begins</p></li>
<li><p><strong>exp_stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – exponent <code class="docutils literal notranslate"><span class="pre">10^exp_stop</span></code> in seconds where the very last bin ends</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the number of bins in the histogram</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After initializing the measurement (or after an overflow) no data is
accumulated in the histogram until the full histogram duration has passed
to ensure a balanced count accumulation over the full histogram.</p>
</div>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="HistogramLogBins.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HistogramLogBins.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A one-dimensional array of size <cite>n_bins</cite> containing the histogram.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HistogramLogBins.getDataNormalizedCountsPerPs">
<span class="sig-name descname"><span class="pre">getDataNormalizedCountsPerPs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HistogramLogBins.getDataNormalizedCountsPerPs" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The counts normalized by the binwidth of each bin.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HistogramLogBins.getDataNormalizedG2">
<span class="sig-name descname"><span class="pre">getDataNormalizedG2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HistogramLogBins.getDataNormalizedG2" title="Permalink to this definition"></a></dt>
<dd><p>The counts normalized by the binwidth of each bin and the average count rate. This matches the implementation of <a class="reference internal" href="#Correlation.getDataNormalized" title="Correlation.getDataNormalized"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Correlation.getDataNormalized()</span></code></a></p>
<div class="math">
<p><img src="../_images/math/e6cf1d0b94df4de375eb54f06bec40dcbf4eba5d.svg" alt="g^{(2)}(\tau) = \frac{\Delta{t}}{binwidth(\tau) \cdot N_1 \cdot N_2} \cdot histogram(\tau)"/></p>
</div><p>where <img class="math" src="../_images/math/6334eb6d19e27d73308cd64d6ea35323cf69b5c0.svg" alt="\Delta{t}"/> is the capture duration, <img class="math" src="../_images/math/1204b88f1c17f1077c4d3ce7d1dec66cb7813eba.svg" alt="N_1"/> and <img class="math" src="../_images/math/8aec35524c4ea4e27ba5a7254cd46df5445e4bf2.svg" alt="N_2"/> are number of events in each channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The counts normalized by the binwidth of each bin and the average count rate.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HistogramLogBins.getBinEdges">
<span class="sig-name descname"><span class="pre">getBinEdges</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HistogramLogBins.getBinEdges" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_bins+1</cite> containing the bin edges in picoseconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="histogram2d">
<h3>Histogram2D<a class="headerlink" href="#histogram2d" title="Permalink to this heading"></a></h3>
<img alt="../_images/Histogram2D.svg" src="../_images/Histogram2D.svg" /><p>This measurement is a 2-dimensional version of the <a class="reference internal" href="#histogram">Histogram</a> measurement.
The measurement accumulates a two-dimensional histogram where stop signals from two
separate channels define the bin coordinate. For instance, this kind of measurement
is similar to that of typical 2D NMR spectroscopy.
The data within the histogram is acquired via a single-start, single-stop analysis for each axis.
The first stop click of each axis is taken after the start click to evaluate the histogram counts.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Histogram2D">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Histogram2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_channel_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_channel_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins_2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Histogram2D" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received</p></li>
<li><p><strong>stop_channel_1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which stop clicks for the time axis 1 are received</p></li>
<li><p><strong>stop_channel_2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which stop clicks for the time axis 2 are received</p></li>
<li><p><strong>binwidth_1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin width in ps for the time axis 1</p></li>
<li><p><strong>binwidth_2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin width in ps for the time axis 2</p></li>
<li><p><strong>n_bins_1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the number of bins along the time axis 1</p></li>
<li><p><strong>n_bins_2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the number of bins along the time axis 2</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Histogram2D.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Histogram2D.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two-dimensional array of size <cite>n_bins_1</cite> by <cite>n_bins_2</cite> containing the 2D histogram.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Histogram2D.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Histogram2D.getIndex" title="Permalink to this definition"></a></dt>
<dd><p>Returns a 3D array containing two coordinate matrices (<cite>meshgrid</cite>) for time bins in ps for the time axes 1 and 2.
For details on <cite>meshgrid</cite> please take a look at the respective documentation either for
<a class="reference external" href="https://www.mathworks.com/help/matlab/ref/meshgrid.html">Matlab</a> or
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.meshgrid.html">Python NumPy</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A three-dimensional array of size <cite>n_bins_1</cite> x <cite>n_bins_2</cite> x 2</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>3D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Histogram2D.getIndex_1">
<span class="sig-name descname"><span class="pre">getIndex_1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Histogram2D.getIndex_1" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_bins_1</cite> containing the bin locations in ps for the time axis 1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Histogram2D.getIndex_2">
<span class="sig-name descname"><span class="pre">getIndex_2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Histogram2D.getIndex_2" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_bins_2</cite> containing the bin locations in ps for the time axis 2.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="histogramnd">
<h3>HistogramND<a class="headerlink" href="#histogramnd" title="Permalink to this heading"></a></h3>
<p>This measurement is the generalisation of <a class="reference internal" href="#Histogram2D" title="Histogram2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">Histogram2D</span></code></a> to an arbitrary number of dimensions.
The data within the histogram is acquired via a single-start, single-stop analysis for each axis.
The first stop click of each axis is taken after the start click to evaluate the histogram counts.</p>
<p><a class="reference internal" href="#HistogramND" title="HistogramND"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistogramND</span></code></a> can be used as a 1D <a class="reference internal" href="#Histogram" title="Histogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Histogram</span></code></a> with single-start single-stop behavior.</p>
<dl class="py class">
<dt class="sig sig-object py" id="HistogramND">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HistogramND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HistogramND" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTagger" title="TimeTagger"><em>TimeTagger</em></a>) – time tagger object</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received</p></li>
<li><p><strong>stop_channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – channel list on which stop clicks are received defining the time axes</p></li>
<li><p><strong>binwidths</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – bin width in ps for the corresponding time axis</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – the number of bins along the corresponding time axis</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="HistogramND.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#HistogramND.getData" title="Permalink to this definition"></a></dt>
<dd><p>Returns a one-dimensional array of the size of the product of n_bins containing the histogram data. The array order is in row-major. For example, with <code class="code docutils literal notranslate"><span class="pre">stop_channels=[ch1,</span> <span class="pre">ch2]</span></code> and <code class="code docutils literal notranslate"><span class="pre">n_bins=[2,</span> <span class="pre">2]</span></code>, the 1D array would represent 2D bin indices in the order <code class="code docutils literal notranslate"><span class="pre">[(0,0),</span> <span class="pre">(0,1),</span> <span class="pre">(1,0),</span> <span class="pre">(1,1)]</span></code>, with (index of <code class="code docutils literal notranslate"><span class="pre">ch1</span></code>, index of <code class="code docutils literal notranslate"><span class="pre">ch2</span></code>). Please reshape the 1D array to get the N-dimensional array. The following code demonstrates how to reshape the returned 1D array into multidimensional array using NumPy.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">channels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">n_bins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">binwidths</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">histogram_nd</span> <span class="o">=</span> <span class="n">HistogramND</span><span class="p">(</span><span class="n">tagger</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">binwidths</span><span class="p">,</span> <span class="n">n_bins</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Wait to accumulate the data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">histogram_nd</span><span class="o">.</span><span class="n">getData</span><span class="p">()</span>
<span class="n">multidim_array</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n_bins</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Flattened array of histogram bins.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="HistogramND.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HistogramND.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns a vector of size n_bins[dim] containing the bin locations in ps for the corresponding time axis.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="correlation">
<span id="api-correlation"></span><h3>Correlation<a class="headerlink" href="#correlation" title="Permalink to this heading"></a></h3>
<img alt="../_images/Correlation.svg" src="../_images/Correlation.svg" /><p>Accumulates time differences between clicks on two channels into
a histogram, where all ticks are considered both as “start” and “stop”
clicks and both positive and negative time differences are considered.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Correlation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Correlation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Correlation" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object</p></li>
<li><p><strong>channel_1</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which (stop) clicks are received</p></li>
<li><p><strong>channel_2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which reference clicks (start) are received (when left empty or set to <a class="reference internal" href="TimeTaggerLibrary.html#CHANNEL_UNUSED" title="CHANNEL_UNUSED"><code class="xref py py-const docutils literal notranslate"><span class="pre">CHANNEL_UNUSED</span></code></a> -&gt; an auto-correlation measurement is performed, which is the same as setting <cite>channel_1 = channel_2</cite>)</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin width in ps</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the number of bins in the resulting histogram</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Correlation.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Correlation.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A one-dimensional array of size <cite>n_bins</cite> containing the histogram.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Correlation.getDataNormalized">
<span class="sig-name descname"><span class="pre">getDataNormalized</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Correlation.getDataNormalized" title="Permalink to this definition"></a></dt>
<dd><p>Return the data normalized as:</p>
<div class="math">
<p><img src="../_images/math/6801487677f12c8adee711505fccbb3d8b6bc2ea.svg" alt="g^{(2)}(\tau) = \frac{\Delta{t}}{binwidth \cdot N_1 \cdot N_2} \cdot histogram(\tau)"/></p>
</div><p>where <img class="math" src="../_images/math/6334eb6d19e27d73308cd64d6ea35323cf69b5c0.svg" alt="\Delta{t}"/> is the capture duration, <img class="math" src="../_images/math/1204b88f1c17f1077c4d3ce7d1dec66cb7813eba.svg" alt="N_1"/> and <img class="math" src="../_images/math/8aec35524c4ea4e27ba5a7254cd46df5445e4bf2.svg" alt="N_2"/> are number of events in each channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Data normalized by the binwidth and the average count rate.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Correlation.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Correlation.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_bins</cite> containing the time bins in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="timedifferences">
<span id="api-timedifferences"></span><h3>TimeDifferences<a class="headerlink" href="#timedifferences" title="Permalink to this heading"></a></h3>
<img alt="../_images/TimeDifferences.svg" src="../_images/TimeDifferences.svg" /><p>A one-dimensional array of time-difference histograms with the option to include up to two additional channels that control how to
step through the indices of the histogram array.
This is a very powerful and generic measurement.
You can use it to record consecutive cross-correlation, lifetime measurements, fluorescence lifetime imaging and many more measurements based on pulsed excitation.
Specifically, the measurement waits for a tag on the <cite>start_channel</cite>, then measures the time difference between the start tag and all subsequent tags on the <cite>click_channel</cite> and stores them in a histogram. If no <cite>start_channel</cite> is specified, the <cite>click_channel</cite> is used as <cite>start_channel</cite> corresponding to an auto-correlation measurement.
The histogram has a number <cite>n_bins</cite> of bins of bin width <cite>binwidth</cite>. Clicks that fall outside the histogram range are discarded. Data accumulation is performed independently for all start tags. This type of measurement is frequently referred to as ‘multiple start, multiple stop’ measurement and corresponds to a full auto- or cross-correlation measurement.</p>
<p>The time-difference data can be accumulated into a single histogram or into multiple subsequent histograms.
In this way, you can record a sequence of time-difference histograms.
To switch from one histogram to the next one you have to specify a channel that provide switch markers (<cite>next_channel</cite> parameter).
Also you need to specify the number of histograms with the parameter <cite>n_histograms</cite>.
After each tag on the <cite>next_channel</cite>, the histogram index is incremented by one and reset to zero after reaching the last valid index.
The measurement starts with the first tag on the <cite>next_channel</cite>.</p>
<p>You can also provide a synchronization marker that resets the histogram index by specifying a <cite>sync_channel</cite>.
The measurement starts when a tag on the <cite>sync_channel</cite> arrives with a subsequent tag on <cite>next_channel</cite>.
When a rollover occurs, the accumulation is stopped until the next sync and subsequent next signal.
A sync signal before a rollover will stop the accumulation, reset the histogram index and a subsequent signal on the <cite>next_channel</cite> starts the accumulation again.</p>
<p>Typically, you will run the measurement indefinitely until stopped by the user.
However, it is also possible to specify the maximum number of rollovers of the histogram index.
In this case, the measurement stops when the number of rollovers has reached the specified value.</p>
<dl class="py class">
<dt class="sig sig-object py" id="TimeDifferences">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimeDifferences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_histograms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which stop clicks are received</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel that sets start times relative to which clicks on the click channel are measured</p></li>
<li><p><strong>next_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel that increments the histogram index</p></li>
<li><p><strong>sync_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel that resets the histogram index to zero</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – binwidth in picoseconds</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of bins in each histogram</p></li>
<li><p><strong>n_histograms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of histograms</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A rollover occurs on a <cite>next_channel</cite> event while the histogram index is already in the last histogram.
If <cite>sync_channel</cite> is defined, the measurement will pause at a rollover until a <cite>sync_channel</cite> event occurs and continues
at the next <cite>next_channel</cite> event.
With undefined <cite>sync_channel</cite>, the measurement will continue without interruption at histogram index 0.</p>
</div>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="TimeDifferences.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences.getData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two-dimensional array of size <cite>n_bins</cite> by <cite>n_histograms</cite> containing the histograms.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeDifferences.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size <cite>n_bins</cite> containing the time bins in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeDifferences.setMaxCounts">
<span class="sig-name descname"><span class="pre">setMaxCounts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences.setMaxCounts" title="Permalink to this definition"></a></dt>
<dd><p>Sets the number of rollovers at which the measurement stops integrating. To integrate infinitely, set the value to 0, which is the default value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeDifferences.getHistogramIndex">
<span class="sig-name descname"><span class="pre">getHistogramIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences.getHistogramIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The index of the currently processed histogram or the waiting state. Possible return values are:</p>
<ul class="simple">
<li><p><cite>-2</cite>: Waiting for an event on <cite>sync_channel</cite> (only if <cite>sync_channel</cite> is defined)</p></li>
<li><p><cite>-1</cite>: Waiting for an event on <cite>next_channel</cite> (only if <cite>next_channel</cite> is defined)</p></li>
<li><p><cite>0</cite> … <cite>(n_histograms - 1)</cite>: Index of the currently processed histogram</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeDifferences.getCounts">
<span class="sig-name descname"><span class="pre">getCounts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences.getCounts" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of rollovers (histogram index resets).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeDifferences.ready">
<span class="sig-name descname"><span class="pre">ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferences.ready" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True when the required number of rollovers set by <a class="reference internal" href="#TimeDifferences.setMaxCounts" title="TimeDifferences.setMaxCounts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setMaxCounts()</span></code></a> has been reached.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="timedifferencesnd">
<h3>TimeDifferencesND<a class="headerlink" href="#timedifferencesnd" title="Permalink to this heading"></a></h3>
<img alt="../_images/TimeDifferencesND.svg" src="../_images/TimeDifferencesND.svg" /><p>This is an implementation of the <a class="reference internal" href="#TimeDifferences" title="TimeDifferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeDifferences</span></code></a> measurement class that extends histogram indexing into multiple dimensions.</p>
<p>Please read the documentation of <a class="reference internal" href="#TimeDifferences" title="TimeDifferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeDifferences</span></code></a> first.
It captures many multiple start - multiple stop histograms, but with many asynchronous <cite>next_channel</cite> triggers.
After each tag on each <cite>next_channel</cite>, the histogram index of the associated dimension is incremented by one and reset to zero after reaching the last valid index.
The elements of the parameter <cite>n_histograms</cite> specify the number of histograms per dimension. The
accumulation starts when <cite>next_channel</cite> has been triggered on all dimensions.</p>
<p>You should provide a synchronization trigger by specifying a sync_channel per dimension. It will stop the accumulation when an associated histogram index rollover occurs. A sync event will also stop the accumulation, reset the histogram index of the associated dimension, and a subsequent event on the corresponding <cite>next_channel</cite> starts the accumulation again. The
synchronization is done asynchronous, so an event on the <cite>next_channel</cite> increases the histogram index even if the accumulation is stopped. The accumulation starts when a tag on the <cite>sync_channel</cite> arrives with a subsequent tag on <cite>next_channel</cite> for all dimensions.</p>
<p>Please use <a class="reference internal" href="TimeTagger.html#TimeTaggerBase.setInputDelay" title="TimeTaggerBase.setInputDelay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeTaggerBase.setInputDelay()</span></code></a> to adjust the latency of all channels. In general, the order of the provided triggers including
maximum jitter should be:</p>
<p>old start trigger –&gt; all sync triggers –&gt; all next triggers –&gt; new start trigger</p>
<dl class="py class">
<dt class="sig sig-object py" id="TimeDifferencesND">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimeDifferencesND</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_histograms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TimeDifferencesND" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which stop clicks are received</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel that sets start times relative to which clicks on the click channel are measured</p></li>
<li><p><strong>next_channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – vector of channels that increments the histogram index</p></li>
<li><p><strong>sync_channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – vector of channels that resets the histogram index to zero</p></li>
<li><p><strong>n_histograms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – vector of numbers of histograms per dimension</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – width of one histogram bin in ps</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of bins in each histogram</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<p>See methods of <a class="reference internal" href="#TimeDifferences" title="TimeDifferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeDifferences</span></code></a> class.</p>
</dd></dl>

</section>
</section>
<section id="fluorescence-lifetime-imaging-flim">
<h2>Fluorescence-lifetime imaging (FLIM)<a class="headerlink" href="#fluorescence-lifetime-imaging-flim" title="Permalink to this heading"></a></h2>
<p>This section describes the FLIM related measurements classes of the Time Tagger API.</p>
<section id="flim">
<span id="api-flim"></span><h3>Flim<a class="headerlink" href="#flim" title="Permalink to this heading"></a></h3>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.7.2.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Flim (beta) implementation is not final yet. It has a very advanced functionality, but details are subject to change. Please give us feedback (<a class="reference external" href="mailto:support&#37;&#52;&#48;swabianinstruments&#46;com">support<span>&#64;</span>swabianinstruments<span>&#46;</span>com</a>)
when you encounter issues or when you have ideas for additional functionality.</p>
</div>
<img alt="../_images/Flim.svg" src="../_images/Flim.svg" /><p>Fluorescence-lifetime imaging microscopy (FLIM) is an imaging technique
for producing an image based on the differences in the exponential decay rate
of the fluorescence from a sample.</p>
<p>Fluorescence lifetimes can be determined in the time domain by using a pulsed source.
When a population of Fluorophores is excited by an ultrashort or delta-peak pulse of light, the time-resolved fluorescence will decay exponentially.</p>
<p>This measurement implements a line scan in a <abbr title="Fluorescence-lifetime imaging microscopy">FLIM</abbr> image that
consists of a sequence of pixels. This could either represent a single line
of the image, or - if the image is represented as a single meandering line -
this could represent the entire image.</p>
<p>We provide two different classes that support FLIM measurements: <a class="reference internal" href="#Flim" title="Flim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flim</span></code></a> and <a class="reference internal" href="#FlimBase" title="FlimBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimBase</span></code></a>.
<a class="reference internal" href="#Flim" title="Flim"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flim</span></code></a> provides a versatile high-level API. <a class="reference internal" href="#FlimBase" title="FlimBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimBase</span></code></a> instead provides the essential functionality with no overhead
to perform Flim measurements. <a class="reference internal" href="#FlimBase" title="FlimBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimBase</span></code></a> is based on a callback approach.</p>
<p>Please visit the Python example folder for a reference implementation.</p>
<div class="admonition note" id="flimreplacement">
<p class="admonition-title">Note</p>
<p>Up to version 2.7.0, the FLIM implementation was very limited and has been fully rewritten in version 2.7.2.
You can use the following 1 to 1 replacement to get the old FLIM behavior:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># FLIM before version 2.7.0:</span>
<span class="n">Flim</span><span class="p">(</span><span class="n">tagger</span><span class="p">,</span> <span class="n">click_channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">start_channel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">next_channel</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">binwidth</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">n_bins</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">n_pixels</span><span class="o">=</span><span class="mi">320</span><span class="o">*</span><span class="mi">240</span><span class="p">)</span>

<span class="c1"># FLIM 2.7.0 replacement using TimeDifferences</span>
<span class="n">TimeDifferences</span><span class="p">(</span><span class="n">tagger</span><span class="p">,</span> <span class="n">click_channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">start_channel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">next_channel</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sync_channel</span><span class="o">=</span><span class="n">CHANNEL_UNUSED</span><span class="p">,</span>
    <span class="n">binwidth</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">n_bins</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">n_histograms</span><span class="o">=</span><span class="mi">320</span><span class="o">*</span><span class="mi">240</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="Flim">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Flim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_begin_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_pixels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">pixel_end_channel=CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_begin_channel=CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finish_after_outputframe=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_frame_average=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_initialize=True</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim" title="Permalink to this definition"></a></dt>
<dd><p>High-Level class for implementing FLIM measurements.
The Flim class includes buffering of images and several analysis methods.</p>
<p>The methods are split into different groups.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">getCurrent...</span></code> references the active frame.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">getReady...</span></code> references the last full frame acquired.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">getSummed...</span></code> operates on all frames which have been captured so far including or excluding the current active frame via the optional parameter <cite>only_ready_frames</cite>.</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">get...Ex</span></code> returns instead of an array, a <a class="reference internal" href="#FlimFrameInfo" title="FlimFrameInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimFrameInfo</span></code></a> which contains more information than only the raw array.</p>
<p>The class provides an <a class="reference internal" href="#Flim.frameReady" title="Flim.frameReady"><code class="xref py py-meth docutils literal notranslate"><span class="pre">frameReady()</span></code></a> callback, which can be used to analyze the data when a frame is completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which clicks are received for the time differences histogramming</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received for the time differences histogramming</p></li>
<li><p><strong>pixel_begin_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – start marker of a pixel (histogram)</p></li>
<li><p><strong>n_pixels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of pixels (histograms) of one frame</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of histogram bins for each pixel</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin size in picoseconds</p></li>
<li><p><strong>pixel_end_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – end marker of a pixel - incoming clicks on the <cite>click_channel</cite> will be ignored afterward. (optional)</p></li>
<li><p><strong>frame_begin_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – start the frame, or reset the pixel index. (optional)</p></li>
<li><p><strong>finish_after_outputframe</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – sets the number of frames stored within the measurement class. After reaching the number, the measurement will stop. If the number is 0, one frame is stored and the measurement runs continuously. (optional, default: 0)</p></li>
<li><p><strong>n_frame_average</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – average multiple input frames into one output frame, (optional, default: 1)</p></li>
<li><p><strong>pre_initialize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – initializes the measurement on constructing. (optional)</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Flim.getCurrentFrame">
<span class="sig-name descname"><span class="pre">getCurrentFrame</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getCurrentFrame" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The histograms for all pixels of the currently active frame, 2D array with dimensions [n_bins, n_pixels].</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getCurrentFrameEx">
<span class="sig-name descname"><span class="pre">getCurrentFrameEx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getCurrentFrameEx" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The currently active frame.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#FlimFrameInfo" title="FlimFrameInfo">FlimFrameInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getCurrentFrameIntensity">
<span class="sig-name descname"><span class="pre">getCurrentFrameIntensity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getCurrentFrameIntensity" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The intensities of all pixels of the currently active frame. The pixel intensity is defined by the number of counts acquired within the pixel divided by the respective integration time.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getFramesAcquired">
<span class="sig-name descname"><span class="pre">getFramesAcquired</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getFramesAcquired" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of frames that have been completed so far, since the creation or last clear of the object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getIndex">
<span class="sig-name descname"><span class="pre">getIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getIndex" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A vector of size n_bins containing the time bins in ps.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getReadyFrame">
<span class="sig-name descname"><span class="pre">getReadyFrame</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">index</span> <span class="pre">=-1</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getReadyFrame" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Index of the frame to be obtained. If -1, the last frame which has been completed is returned. (optional)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The histograms for all pixels according to the frame index given. If the index is -1, it will return the last frame, which has been completed. When <cite>stop_after_outputframe</cite> is 0, the index value must be -1. If <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">&gt;=</span> <span class="pre">stop_after_outputframe</span></code>, it will throw an error. 2D array with dimensions [n_bins, n_pixels]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getReadyFrameEx">
<span class="sig-name descname"><span class="pre">getReadyFrameEx</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">index</span> <span class="pre">=-1</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getReadyFrameEx" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Index of the frame to be obtained. If -1, the last frame which has been completed is returned. (optional)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The frame according to the index given. If the index is -1, it will return the last completed frame. When <cite>stop_after_outputframe</cite> is 0, index must be -1. If <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">&gt;=</span> <span class="pre">stop_after_outputframe</span></code>, it will throw an error.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#FlimFrameInfo" title="FlimFrameInfo">FlimFrameInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getReadyFrameIntensity">
<span class="sig-name descname"><span class="pre">getReadyFrameIntensity</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">index</span> <span class="pre">=-1</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getReadyFrameIntensity" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Index of the frame to be obtained. If -1, the last frame which has been completed is returned. (optional)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The intensities according to the frame index given. If the index is -1, it will return the intensity of the last frame, which has been completed. When <cite>stop_after_outputframe</cite> is 0, the index value must be -1. If <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">&gt;=</span> <span class="pre">stop_after_outputframe</span></code>, it will throw an error.
The pixel intensity is defined by the number of counts acquired within the pixel divided by the respective integration time.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getSummedFrames">
<span class="sig-name descname"><span class="pre">getSummedFrames</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">only_ready_frames=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_summed=False</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getSummedFrames" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>only_ready_frames</strong> – If true, only the finished frames are added. On false, the currently active frame is aggregated. (optional)</p></li>
<li><p><strong>clear_summed</strong> – If true, the summed frames memory will be cleared. (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The histograms for all pixels. The counts within the histograms are integrated since the start or the last clear of the measurement.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getSummedFramesEx">
<span class="sig-name descname"><span class="pre">getSummedFramesEx</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">only_ready_frames=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_summed=False</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getSummedFramesEx" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>only_ready_frames</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If true, only the finished frames are added. On false, the currently active frame is aggregated. (optional)</p></li>
<li><p><strong>clear_summed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If True, the summed frames memory will be cleared. (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="#FlimFrameInfo" title="FlimFrameInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimFrameInfo</span></code></a> that represents the sum of all acquired frames.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#FlimFrameInfo" title="FlimFrameInfo">FlimFrameInfo</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.getSummedFramesIntensity">
<span class="sig-name descname"><span class="pre">getSummedFramesIntensity</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">only_ready_frames=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_summed=False</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.getSummedFramesIntensity" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>only_ready_frames</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If true, only the finished frames are added. On false, the currently active frame is aggregated. (optional)</p></li>
<li><p><strong>clear_summed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If true, the summed frames memory will be cleared. (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The intensities of all pixels summed over all acquired frames. The pixel intensity is the number of counts within the pixel divided by the integration time.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.isAcquiring">
<span class="sig-name descname"><span class="pre">isAcquiring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.isAcquiring" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean which tells the user if the class is still acquiring data. It can only reach the false state for <code class="docutils literal notranslate"><span class="pre">stop_after_outputframe</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>. This should differ from <a class="reference internal" href="#IteratorBase.isRunning" title="IteratorBase.isRunning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isRunning()</span></code></a> as once rendering is done, it can’t be started again.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.frameReady">
<span class="sig-name descname"><span class="pre">frameReady</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_begin_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_end_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_begin_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_end_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Flim.frameReady" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – current frame number</p></li>
<li><p><strong>data</strong> (<em>1D_array</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – 1D array containing the raw histogram data, with the data of pixel <code class="docutils literal notranslate"><span class="pre">i</span></code> and time bin <code class="docutils literal notranslate"><span class="pre">j</span></code> at index <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">*</span> <span class="pre">n_bins</span> <span class="pre">+</span> <span class="pre">j</span></code></p></li>
<li><p><strong>pixel_begin_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – start time for each pixel</p></li>
<li><p><strong>pixel_end_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – end time for each pixel</p></li>
<li><p><strong>frame_begin_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – start time of the frame</p></li>
<li><p><strong>frame_end_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – end time of the frame</p></li>
</ul>
</dd>
</dl>
<p>The method is called when a frame is completed. Compared to <a class="reference internal" href="#Flim.on_frame_end" title="Flim.on_frame_end"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_frame_end()</span></code></a>, it provides various related data when invoked.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Flim.on_frame_end">
<span class="sig-name descname"><span class="pre">on_frame_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Flim.on_frame_end" title="Permalink to this definition"></a></dt>
<dd><p>Virtual function which can be overwritten in C++. The method is called when a frame is completed.</p>
</dd></dl>

</dd></dl>

</section>
<section id="flimframeinfo">
<h3>FlimFrameInfo<a class="headerlink" href="#flimframeinfo" title="Permalink to this heading"></a></h3>
<p>This is a simple class that contains FLIM frame data and provides convenience accessor methods.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Objects of this class are returned by the methods of the FLIM classes.
Normally user will not construct <a class="reference internal" href="#FlimFrameInfo" title="FlimFrameInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimFrameInfo</span></code></a> objects themselves.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="FlimFrameInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FlimFrameInfo</span></span><a class="headerlink" href="#FlimFrameInfo" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="FlimFrameInfo.pixels">
<span class="sig-name descname"><span class="pre">pixels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#FlimFrameInfo.pixels" title="Permalink to this definition"></a></dt>
<dd><p>number of pixels of the frame</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="FlimFrameInfo.bins">
<span class="sig-name descname"><span class="pre">bins</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#FlimFrameInfo.bins" title="Permalink to this definition"></a></dt>
<dd><p>number of bins of each histogram</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="FlimFrameInfo.frame_number">
<span class="sig-name descname"><span class="pre">frame_number</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#FlimFrameInfo.frame_number" title="Permalink to this definition"></a></dt>
<dd><p>current frame number</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="FlimFrameInfo.pixel_position">
<span class="sig-name descname"><span class="pre">pixel_position</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#FlimFrameInfo.pixel_position" title="Permalink to this definition"></a></dt>
<dd><p>current pixel position</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getFrameNumber">
<span class="sig-name descname"><span class="pre">getFrameNumber</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getFrameNumber" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The frame number, starting from 0 for the very first frame acquired. If the index is -1, it is an invalid frame which is returned on error.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.isValid">
<span class="sig-name descname"><span class="pre">isValid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.isValid" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean which tells if this frame is valid or not. Invalid frames are possible on errors, such as asking for the last completed frame when no frame has been completed so far.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getPixelPosition">
<span class="sig-name descname"><span class="pre">getPixelPosition</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getPixelPosition" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A value which tells how many pixels were processed for this frame.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getHistograms">
<span class="sig-name descname"><span class="pre">getHistograms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getHistograms" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All histograms of the frame, 2D array with dimensions [n_bins, n_pixels].</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getIntensities">
<span class="sig-name descname"><span class="pre">getIntensities</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getIntensities" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The summed counts of each histogram divided by the integration time.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getSummedCounts">
<span class="sig-name descname"><span class="pre">getSummedCounts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getSummedCounts" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The summed counts of each histogram.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getPixelBegins">
<span class="sig-name descname"><span class="pre">getPixelBegins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getPixelBegins" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of the start timestamps of each pixel.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimFrameInfo.getPixelEnds">
<span class="sig-name descname"><span class="pre">getPixelEnds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimFrameInfo.getPixelEnds" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of the end timestamps of each pixel.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="flimbase">
<h3>FlimBase<a class="headerlink" href="#flimbase" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="#FlimBase" title="FlimBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlimBase</span></code></a> provides only the most essential functionality for FLIM tasks. The benefit from the reduced functionality is that it is very memory and CPU efficient.
The class provides the <a class="reference internal" href="#FlimBase.frameReady" title="FlimBase.frameReady"><code class="xref py py-meth docutils literal notranslate"><span class="pre">frameReady()</span></code></a> callback, which must be used to analyze the data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="FlimBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FlimBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">click_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_begin_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_pixels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">pixel_end_channel=CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_begin_channel=CHANNEL_UNUSED</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finish_after_outputframe=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_frame_average=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_initialize=True</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimBase" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>start_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which clicks are received for the time differences histogramming</p></li>
<li><p><strong>click_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – channel on which start clicks are received for the time differences histogramming</p></li>
<li><p><strong>pixel_begin_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – start marker of a pixel (histogram)</p></li>
<li><p><strong>n_pixels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of pixels (histograms) of one frame</p></li>
<li><p><strong>n_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – number of histogram bins for each pixel</p></li>
<li><p><strong>binwidth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – bin size in picoseconds</p></li>
<li><p><strong>pixel_end_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – end marker of a pixel - incoming clicks on the click_channel will be ignored afterward. (optional, default: <a class="reference internal" href="TimeTaggerLibrary.html#CHANNEL_UNUSED" title="CHANNEL_UNUSED"><code class="xref py py-const docutils literal notranslate"><span class="pre">CHANNEL_UNUSED</span></code></a>)</p></li>
<li><p><strong>frame_begin_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – start the frame, or reset the pixel index. (optional, default: <a class="reference internal" href="TimeTaggerLibrary.html#CHANNEL_UNUSED" title="CHANNEL_UNUSED"><code class="xref py py-const docutils literal notranslate"><span class="pre">CHANNEL_UNUSED</span></code></a>)</p></li>
<li><p><strong>finish_after_outputframe</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – sets the number of frames stored within the measurement class. After reaching the number, the measurement will stop. If the number is 0 , one frame is stored and the measurement runs continuously. (optional, default: 0)</p></li>
<li><p><strong>n_frame_average</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – average multiple input frames into one output frame. (optional, default: 1)</p></li>
<li><p><strong>pre_initialize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – initializes the measurement on constructing. (optional, default: True)</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="FlimBase.isAcquiring">
<span class="sig-name descname"><span class="pre">isAcquiring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimBase.isAcquiring" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean which tells the user if the class is still acquiring data. It can only reach the false state for <code class="docutils literal notranslate"><span class="pre">stop_after_outputframe</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>. This should differ from <a class="reference internal" href="#IteratorBase.isRunning" title="IteratorBase.isRunning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isRunning()</span></code></a> as once rendering is done, it can’t be started again.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimBase.frameReady">
<span class="sig-name descname"><span class="pre">frameReady</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_begin_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_end_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_begin_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_end_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FlimBase.frameReady" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame_number</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – current Frame number</p></li>
<li><p><strong>data</strong> (<em>1D_array</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – 1D array containing the raw histogram data, with the data of pixel <code class="docutils literal notranslate"><span class="pre">i</span></code> and time bin <code class="docutils literal notranslate"><span class="pre">j</span></code> at index <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">*</span> <span class="pre">n_bins</span> <span class="pre">+</span> <span class="pre">j</span></code></p></li>
<li><p><strong>pixel_begin_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – start time for each pixel</p></li>
<li><p><strong>pixel_end_times</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – end time for each pixel</p></li>
<li><p><strong>frame_begin_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – start time of the frame</p></li>
<li><p><strong>frame_end_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – end time of the frame</p></li>
</ul>
</dd>
</dl>
<p>The method is called when a frame is completed. Compared to <a class="reference internal" href="#FlimBase.on_frame_end" title="FlimBase.on_frame_end"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_frame_end()</span></code></a>, it provides various related data when invoked.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FlimBase.on_frame_end">
<span class="sig-name descname"><span class="pre">on_frame_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FlimBase.on_frame_end" title="Permalink to this definition"></a></dt>
<dd><p>Virtual function which can be overwritten in C++. The method is called when a frame is completed.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="frequency-analysis">
<h2>Frequency analysis<a class="headerlink" href="#frequency-analysis" title="Permalink to this heading"></a></h2>
<section id="frequencystability">
<h3>FrequencyStability<a class="headerlink" href="#frequencystability" title="Permalink to this heading"></a></h3>
<figure class="align-center">
<img alt="../_images/FrequencyStability.svg" class="plot-directive" src="../_images/FrequencyStability.svg" /></figure>
<p>Frequency Stability Analysis is used to characterize periodic signals and to identify sources of deviations from the perfect periodicity.
It can be employed to evaluate the frequency stability of oscillators, for example.
A set of established metrics provides insights into the oscillator characteristics on different time scales.
The most prominent metric is the Allan Deviation (ADEV). The <a class="reference internal" href="#FrequencyStability" title="FrequencyStability"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrequencyStability</span></code></a> class executes the calculation of
often used metrics in parallel and conforms to the IEEE 1139 standard. For more information, we recommend the
<a class="reference external" href="https://www.nist.gov/publications/handbook-frequency-stability-analysis">Handbook of Frequency Stability Analysis</a>.</p>
<p>The calculated deviations are the root-mean-square <img class="math" src="../_images/math/a56c1dba73c2541ae41a18e1121d671670562a99.svg" alt="\sqrt{f_n \sum_i\left(E_i^{(n)}\right)^2}"/> of a specific set of
error samples <img class="math" src="../_images/math/eed36ee3e51ede602bc78354551148df2ea82373.svg" alt="E^{(n)}"/> with a normalization factor <img class="math" src="../_images/math/e373539703f07e558686af74e1ce83d210296d1b.svg" alt="f_n"/>.
The step size <img class="math" src="../_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.svg" alt="n"/> together with the oscillator period <img class="math" src="../_images/math/e8dea8254118f111b5fb20895b03528c17566f06.svg" alt="T"/> defines the time span <img class="math" src="../_images/math/4681a6a40d7785880a86dbf2c47ea70ac34014e4.svg" alt="\tau_n = n T"/>
that is investigated by the sample.
The error samples <img class="math" src="../_images/math/eed36ee3e51ede602bc78354551148df2ea82373.svg" alt="E^{(n)}"/> are calculated from the phase samples <img class="math" src="../_images/math/907a4add6d5db5b7f197f7924f1371b8ac404fe6.svg" alt="t"/> that are generated by the
<a class="reference internal" href="#FrequencyStability" title="FrequencyStability"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrequencyStability</span></code></a> class by averaging over the timestamps of a configurable number of time-tags.
To investigate the averaged phase samples directly, a trace of configurable length is stored to display the
current evolution of frequency and phase errors.</p>
<p>Each of the available deviations has its specific sample <img class="math" src="../_images/math/eed36ee3e51ede602bc78354551148df2ea82373.svg" alt="E^{(n)}"/>.
For example, the Allan Deviation investigates the second derivative of the phase <img class="math" src="../_images/math/907a4add6d5db5b7f197f7924f1371b8ac404fe6.svg" alt="t"/> using the sample
<img class="math" src="../_images/math/84d22f1807445a3a967870431fca8e7416fdf2a4.svg" alt="E_i^{(n)} = t_i - 2 t_{i+n} + t_{i+2n}"/>.
The full formula of the Allan deviation for a set of <img class="math" src="../_images/math/3bfb3a64189a14b2704f4610827762d5e3145114.svg" alt="N"/> averaged timestamps is</p>
<blockquote>
<div><div class="math">
<p><img src="../_images/math/45648d1009962a70bef17ea7611a3424973accc8.svg" alt="\mathrm{ADEV}(\tau_n) = \sqrt{\frac{1}{2(N-2n)\tau_n^2} \sum_{i=1}^{N-2n}\left(t_i - 2 t_{i+n} + t_{i+2n}\right)^2}."/></p>
</div></div></blockquote>
<p>The deviations can be displayed in the Allan domain or in the time domain.
For the time domain, the Allan domain data is multiplied by a factor proportional to <img class="math" src="../_images/math/914b2d4b6659b86d3153d5510839dfb254dfc8a3.svg" alt="\tau"/>.
This means that in a log-log plot, all slopes of the time domain curves are increased by +1 compared to the Allan ones.
The factor <img class="math" src="../_images/math/1cd600c5ef888237573fdbd3670b82a4bdf3270b.svg" alt="\sqrt{3}"/> for ADEV/MDEV and <img class="math" src="../_images/math/6f0023ecced8f47f8e47c12b3a81c8801622179a.svg" alt="\sqrt{10/3}"/> for HDEV, respectively, is used so that the scaled deviations of a white phase noise distortion correspond to the standard deviation of the averaged timestamps <img class="math" src="../_images/math/907a4add6d5db5b7f197f7924f1371b8ac404fe6.svg" alt="t"/>.
In some cases, there are different established names for the representations.
The <a class="reference internal" href="#FrequencyStability" title="FrequencyStability"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrequencyStability</span></code></a> class provides numerous metrics for both domains:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Allan domain</p></th>
<th class="head"><p>Time domain</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td><p>Standard Deviation (STDD)</p></td>
</tr>
<tr class="row-odd"><td><p>Allan Deviation (ADEV)</p></td>
<td><p>ADEVScaled = <img class="math" src="../_images/math/c68a7252d385c6c2a907b7f51542cf993e87c5b7.svg" alt="\frac{\tau}{\sqrt{3}}"/> ADEV</p></td>
</tr>
<tr class="row-even"><td><p>Modified Allan Deviation (MDEV)</p></td>
<td><p>Time Deviation TDEV = <img class="math" src="../_images/math/c68a7252d385c6c2a907b7f51542cf993e87c5b7.svg" alt="\frac{\tau}{\sqrt{3}}"/> MDEV</p></td>
</tr>
<tr class="row-odd"><td><p>Hadamard Deviation (HDEV )</p></td>
<td><p>HDEVScaled = <img class="math" src="../_images/math/979ae49c674ee28fbf0e044eb750518ffed8645a.svg" alt="\frac{\tau}{\sqrt{10 / 3}}"/> HDEV</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="FrequencyStability">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FrequencyStability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace_len</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStability" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The input channel number.</p></li>
<li><p><strong>steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – The step sizes to consider in the calculation.
The length of the list determines the maximum number of data points.
Because the oscillator frequency is unknown, it is not possible to define <img class="math" src="../_images/math/914b2d4b6659b86d3153d5510839dfb254dfc8a3.svg" alt="\tau"/> directly.</p></li>
<li><p><strong>average</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of time-tags to average internally. This downsampling allows for a reduction of noise and memory requirements.
Default is 1000.</p></li>
<li><p><strong>trace_len</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Number of data points in the phase and frequency error traces, calculated from averaged data.
The trace always contains the latest data. Default is 1000.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use <cite>average</cite> and <a class="reference internal" href="TimeTagger.html#TimeTagger.setEventDivider" title="TimeTagger.setEventDivider"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeTagger.setEventDivider()</span></code></a> with care: The event divider can be used to save USB bandwidth.
If possible, transfer more data via USB and use <cite>average</cite> to improve your results.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStability.getDataObject">
<span class="sig-name descname"><span class="pre">getDataObject</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStability.getDataObject" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An object that allows access to the current metrics</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#FrequencyStabilityData" title="FrequencyStabilityData">FrequencyStabilityData</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="FrequencyStabilityData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FrequencyStabilityData</span></span><a class="headerlink" href="#FrequencyStabilityData" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getTau">
<span class="sig-name descname"><span class="pre">getTau</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getTau" title="Permalink to this definition"></a></dt>
<dd><p>The <img class="math" src="../_images/math/914b2d4b6659b86d3153d5510839dfb254dfc8a3.svg" alt="\tau"/> axis for all deviations. This is the product of the <cite>steps</cite> parameter of the <a class="reference internal" href="#FrequencyStability" title="FrequencyStability"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrequencyStability</span></code></a>
measurement and the measured average period of the signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <img class="math" src="../_images/math/914b2d4b6659b86d3153d5510839dfb254dfc8a3.svg" alt="\tau"/> values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getADEV">
<span class="sig-name descname"><span class="pre">getADEV</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getADEV" title="Permalink to this definition"></a></dt>
<dd><p>The overlapping Allan deviation, the most common analysis framework.
In a log-log plot, the slope allows one to identify the type of noise:</p>
<ul class="simple">
<li><p>-1: white or flicker phase noise like discretization or analog noisy delay</p></li>
<li><p>-0.5: white period noise</p></li>
<li><p>0: flicker period noise like electric noisy oscillator</p></li>
<li><p>0.5: integrated white period noise (random walk period)</p></li>
<li><p>1: frequency drift, e.g., induced thermally</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Sample<span class="colon">:</span></dt>
<dd class="field-odd"><p><img class="math" src="../_images/math/84d22f1807445a3a967870431fca8e7416fdf2a4.svg" alt="E_i^{(n)} = t_i - 2 t_{i+n} + t_{i+2n}"/></p>
</dd>
<dt class="field-even">Domain<span class="colon">:</span></dt>
<dd class="field-even"><p>Allan domain</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The overlapping Allan Deviation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getMDEV">
<span class="sig-name descname"><span class="pre">getMDEV</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getMDEV" title="Permalink to this definition"></a></dt>
<dd><p>Modified overlapping Allan deviation. It averages the second derivate before calculating the
RMS. This splits the slope of white and flicker phase noise:</p>
<ul class="simple">
<li><p>-1.5: white phase noise, like discretization</p></li>
<li><p>-1.0: flicker phase noise, like an electric noisy delay</p></li>
</ul>
<p>The metric is more commonly used in the time domain, see <a class="reference internal" href="#FrequencyStabilityData.getTDEV" title="FrequencyStabilityData.getTDEV"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTDEV()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Sample<span class="colon">:</span></dt>
<dd class="field-odd"><p><img class="math" src="../_images/math/26432bca21fdbdb76520baba27ac6afff8548912.svg" alt="E_i^{(n)} = \frac{1}{n} \sum_{j=0}^{n-1} \left(t_{i+j} - 2 t_{i+j+n} + t_{i+j+2n}\right)"/></p>
</dd>
<dt class="field-even">Domain<span class="colon">:</span></dt>
<dd class="field-even"><p>Allan domain</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The overlapping Modified Allan Deviation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getHDEV">
<span class="sig-name descname"><span class="pre">getHDEV</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getHDEV" title="Permalink to this definition"></a></dt>
<dd><p>The overlapping Hadamard deviation uses the third derivate of the phase. This cancels the effect
of a constant phase drift and converges for more divergent noise sources at higher slopes:</p>
<ul class="simple">
<li><p>1: integrated flicker period noise (flicker walk period)</p></li>
<li><p>1.5: double integrated white period noise (random run period)</p></li>
</ul>
<p>It is scaled to match the ADEV for white period noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Sample<span class="colon">:</span></dt>
<dd class="field-odd"><p><img class="math" src="../_images/math/be40f148c1d3d65cc4691995b055f7de0d6785c1.svg" alt="E_i^{(n)} = t_i - 3 t_{i+n} + 3 t_{i+2n} - t_{i+3n}"/></p>
</dd>
<dt class="field-even">Domain<span class="colon">:</span></dt>
<dd class="field-even"><p>Allan domain</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The overlapping Hadamard Deviation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getSTDD">
<span class="sig-name descname"><span class="pre">getSTDD</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getSTDD" title="Permalink to this definition"></a></dt>
<dd><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The standard deviation is not recommended as a measure of frequency stability because it is non-convergent for some
types of noise commonly found in frequency sources, most noticeable the frequency drift.</p>
</div>
<p>Standard deviation of the periods.</p>
<dl class="field-list simple">
<dt class="field-odd">Sample<span class="colon">:</span></dt>
<dd class="field-odd"><p><img class="math" src="../_images/math/fedb6c9834c6c5ebc479f763b9d2f1bfc42d563e.svg" alt="E_i^{(n)} = t_i - t_{i+n} - \mathrm{mean}_k(t_k - t_{k+n})"/></p>
</dd>
<dt class="field-even">Domain<span class="colon">:</span></dt>
<dd class="field-even"><p>Time domain</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The standard deviation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getADEVScaled">
<span class="sig-name descname"><span class="pre">getADEVScaled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getADEVScaled" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time domain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The scaled version of the overlapping Allan Deviation, equivalent to <a class="reference internal" href="#FrequencyStabilityData.getADEV" title="FrequencyStabilityData.getADEV"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getADEV()</span></code></a> * <a class="reference internal" href="#FrequencyStabilityData.getTau" title="FrequencyStabilityData.getTau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTau()</span></code></a> / <img class="math" src="../_images/math/1cd600c5ef888237573fdbd3670b82a4bdf3270b.svg" alt="\sqrt{3}"/>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getTDEV">
<span class="sig-name descname"><span class="pre">getTDEV</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getTDEV" title="Permalink to this definition"></a></dt>
<dd><p>The Time Deviation (TDEV) is the common representation of the Modified overlapping Allan deviation <a class="reference internal" href="#FrequencyStabilityData.getMDEV" title="FrequencyStabilityData.getMDEV"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getMDEV()</span></code></a>.
Taking the log-log slope +1 and the splitting of the slope of white and flicker phase noise into account,
it allows an easy identification of the two contributions:</p>
<ul class="simple">
<li><p>-0.5: white phase noise, like discretization</p></li>
<li><p>0: flicker phase noise, like an electric noisy delay</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time domain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The overlapping Time Deviation, equivalent to <a class="reference internal" href="#FrequencyStabilityData.getMDEV" title="FrequencyStabilityData.getMDEV"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getMDEV()</span></code></a> * <a class="reference internal" href="#FrequencyStabilityData.getTau" title="FrequencyStabilityData.getTau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTau()</span></code></a> / <img class="math" src="../_images/math/1cd600c5ef888237573fdbd3670b82a4bdf3270b.svg" alt="\sqrt{3}"/>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getHDEVScaled">
<span class="sig-name descname"><span class="pre">getHDEVScaled</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getHDEVScaled" title="Permalink to this definition"></a></dt>
<dd><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>While HDEV is scaled to match ADEV for white period noise, this function is scaled to match the TDEV for white
phase noise. The difference of period vs phase matching is roughly 5% and easy to overlook.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>Time domain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The scaled version of the overlapping Hadamard Deviation, equivalent to <a class="reference internal" href="#FrequencyStabilityData.getHDEV" title="FrequencyStabilityData.getHDEV"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getHDEV()</span></code></a> * <a class="reference internal" href="#FrequencyStabilityData.getTau" title="FrequencyStabilityData.getTau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTau()</span></code></a> / <img class="math" src="../_images/math/3f7103be732a55c91a0e36d4243f8d408182ddc6.svg" alt="\sqrt{10 / 3}"/>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getTraceIndex">
<span class="sig-name descname"><span class="pre">getTraceIndex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getTraceIndex" title="Permalink to this definition"></a></dt>
<dd><p>The time axis for <a class="reference internal" href="#FrequencyStabilityData.getTracePhase" title="FrequencyStabilityData.getTracePhase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTracePhase()</span></code></a> and <a class="reference internal" href="#FrequencyStabilityData.getTraceFrequency" title="FrequencyStabilityData.getTraceFrequency"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTraceFrequency()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The time index in seconds of the phase and frequency error trace.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getTracePhase">
<span class="sig-name descname"><span class="pre">getTracePhase</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getTracePhase" title="Permalink to this definition"></a></dt>
<dd><p>Provides the time offset of the averaged timestamps from a linear fit over the last <cite>trace_len</cite> averaged timestamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A trace of the last <cite>trace_len</cite> phase samples in seconds.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getTraceFrequency">
<span class="sig-name descname"><span class="pre">getTraceFrequency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getTraceFrequency" title="Permalink to this definition"></a></dt>
<dd><p>Provides the relative frequency offset from the average frequency during the last <cite>trace_len + 1</cite> averaged timestamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A trace of the last <cite>trace_len</cite> normalized frequency error data points in pp1.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FrequencyStabilityData.getTraceFrequencyAbsolute">
<span class="sig-name descname"><span class="pre">getTraceFrequencyAbsolute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FrequencyStabilityData.getTraceFrequencyAbsolute" title="Permalink to this definition"></a></dt>
<dd><p>Provides the absolute frequency offset from a given <cite>input_frequency</cite> during the last <cite>trace_len + 1</cite> averaged timestamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_frequency</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – Nominal frequency of the periodic signal. Default is 0 Hz.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A trace of the last <cite>trace_len</cite> frequency data points in Hz.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="time-tag-streaming">
<h2>Time-tag-streaming<a class="headerlink" href="#time-tag-streaming" title="Permalink to this heading"></a></h2>
<p>Measurement classes described in this section provide direct access to the time tag stream with minimal or no pre-processing.</p>
<p class="rubric" id="time-tag-format">Time tag format</p>
<p>The time tag contain essential information about the detected event and have the following format:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Size</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>8 bit</p></td>
<td><p>enum <a class="reference internal" href="TimeTaggerLibrary.html#TagType" title="TagType"><code class="xref py py-class docutils literal notranslate"><span class="pre">TagType</span></code></a></p></td>
<td><p>overflow type</p></td>
</tr>
<tr class="row-odd"><td><p>8 bit</p></td>
<td><p>–</p></td>
<td><p>reserved</p></td>
</tr>
<tr class="row-even"><td><p>16 bit</p></td>
<td><p>uint16</p></td>
<td><p>number of missed events</p></td>
</tr>
<tr class="row-odd"><td><p>32 bit</p></td>
<td><p>int32</p></td>
<td><p>channel number</p></td>
</tr>
<tr class="row-even"><td><p>64 bit</p></td>
<td><p>int64</p></td>
<td><p>time in ps from device start-up</p></td>
</tr>
</tbody>
</table>
<section id="timetagstream">
<h3>TimeTagStream<a class="headerlink" href="#timetagstream" title="Permalink to this heading"></a></h3>
<p>Allows user to access a copy of the time tag stream. It allocates a memory buffer of the size <cite>max_tags</cite> which is filled with the incoming time tags that arrive from the specified channels. User shall call <a class="reference internal" href="#TimeTagStream.getData" title="TimeTagStream.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getData()</span></code></a> method periodically to obtain the current buffer containing timetags collected. This action will return the current buffer object and create another empty buffer to be filled until the next call to <a class="reference internal" href="#TimeTagStream.getData" title="TimeTagStream.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getData()</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="TimeTagStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimeTagStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_max_events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStream" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>n_max_events</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – buffer size for storing time tags</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – non-empty list of channels to be captured.</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="TimeTagStream.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStream.getData" title="Permalink to this definition"></a></dt>
<dd><p>Returns a <a class="reference internal" href="#TimeTagStreamBuffer" title="TimeTagStreamBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStreamBuffer</span></code></a> object and clears the internal buffer of the <a class="reference internal" href="#TimeTagStream" title="TimeTagStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStream</span></code></a> measurement. Clearing the internal buffer on each call to <a class="reference internal" href="#TimeTagStream.getData" title="TimeTagStream.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getData()</span></code></a> guarantees that consecutive calls to this method will return every time-tag only once. Data loss may occur if <a class="reference internal" href="#TimeTagStream.getData" title="TimeTagStream.getData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getData()</span></code></a> is not called frequently enough with respect to <cite>n_max_events</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>buffer object containing timetags collected.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#TimeTagStreamBuffer" title="TimeTagStreamBuffer">TimeTagStreamBuffer</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="TimeTagStreamBuffer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TimeTagStreamBuffer</span></span><a class="headerlink" href="#TimeTagStreamBuffer" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.size">
<span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#TimeTagStreamBuffer.size" title="Permalink to this definition"></a></dt>
<dd><p>Number of events stored in the buffer. If the size equals the maximum size of the buffer set in <a class="reference internal" href="#TimeTagStream" title="TimeTagStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStream</span></code></a> via <cite>n_max_events</cite>, events have likely been discarded.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.hasOverflows">
<span class="sig-name descname"><span class="pre">hasOverflows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></em><a class="headerlink" href="#TimeTagStreamBuffer.hasOverflows" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if a stream overflow was detected in any of the tags received. Note: this is independent of an overflow of the internal buffer of <a class="reference internal" href="#TimeTagStream" title="TimeTagStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStream</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.tStart">
<span class="sig-name descname"><span class="pre">tStart</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#TimeTagStreamBuffer.tStart" title="Permalink to this definition"></a></dt>
<dd><p>Return the data-stream time position when the <a class="reference internal" href="#TimeTagStream" title="TimeTagStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStream</span></code></a> or <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> started data acquisition.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.tGetData">
<span class="sig-name descname"><span class="pre">tGetData</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></em><a class="headerlink" href="#TimeTagStreamBuffer.tGetData" title="Permalink to this definition"></a></dt>
<dd><p>Return the data-stream time position of the call to <cite>.getData()</cite> method that created this object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.getTimestamps">
<span class="sig-name descname"><span class="pre">getTimestamps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStreamBuffer.getTimestamps" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of timestamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Event timestamps in picoseconds for all chosen channels.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.getChannels">
<span class="sig-name descname"><span class="pre">getChannels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStreamBuffer.getChannels" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of channel numbers for every timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Channel number for each detected event.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.getOverflows">
<span class="sig-name descname"><span class="pre">getOverflows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStreamBuffer.getOverflows" title="Permalink to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 2.5.0: </span>please use <a class="reference internal" href="#TimeTagStreamBuffer.getEventTypes" title="TimeTagStreamBuffer.getEventTypes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getEventTypes()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.getEventTypes">
<span class="sig-name descname"><span class="pre">getEventTypes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStreamBuffer.getEventTypes" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of event type for every timestamp. See, <a class="reference internal" href="#time-tag-format"><span class="std std-ref">Time tag format</span></a>.
The method returns plain integers, but you can use <a class="reference internal" href="TimeTaggerLibrary.html#TagType" title="TagType"><code class="xref py py-class docutils literal notranslate"><span class="pre">TagType</span></code></a> to compare the values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Event type value for each detected event.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="TimeTagStreamBuffer.getMissedEvents">
<span class="sig-name descname"><span class="pre">getMissedEvents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#TimeTagStreamBuffer.getMissedEvents" title="Permalink to this definition"></a></dt>
<dd><p>Returns an array of missed event counts during an stream overflow situation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Missed events value for each detected event.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>1D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="filewriter">
<span id="api-filewriter"></span><h3>FileWriter<a class="headerlink" href="#filewriter" title="Permalink to this heading"></a></h3>
<p>Writes the time-tag-stream into a file in a structured binary format with a lossless compression. The estimated file size requirements are 2-4 Bytes per time tag, not including the container the data is stored in.
The continuous background data rate for the container can be modified via <a class="reference internal" href="TimeTagger.html#TimeTagger.setStreamBlockSize" title="TimeTagger.setStreamBlockSize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeTagger.setStreamBlockSize()</span></code></a>. Data is processed in blocks and each block header has a size of 160 Bytes. The default processing latency is 20 ms, which means that a block is written every 20 ms resulting in a background data rate of 8 kB/s. By increasing the processing latency via <a class="reference internal" href="TimeTagger.html#TimeTagger.setStreamBlockSize" title="TimeTagger.setStreamBlockSize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setStreamBlockSize(max_events=524288,</span> <span class="pre">max_latency=1000)</span></code></a> to 1 s, the resulting data rate for the container is reduced to one 160 B/s.
The files created with <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> measurement can be read using <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a> or loaded into the Virtual Time Tagger.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can use the <a class="reference internal" href="#Dump" title="Dump"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dump</span></code></a> for dumping into a simple uncompressed binary format.
However, you will not be able to use this file with Virtual Time Tagger or <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a>.</p>
</div>
<p>The <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> is able to split the data into multiple files seamlessly
when the file size reaches a maximal size. For the file splitting to work properly, the filename specified by the user will be extended with a suffix containing sequential counter, so the filenames will look like in the following example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fw</span> <span class="o">=</span> <span class="n">FileWriter</span><span class="p">(</span><span class="n">tagger</span><span class="p">,</span> <span class="s1">&#39;filename.ttbin&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c1"># Store tags from channels 1,2,3</span>

<span class="c1"># When splitting occurs the files with following names will be created</span>
<span class="c1">#    filename.ttbin     # the sequence header file with no data blocks</span>
<span class="c1">#    filename.1.ttbin   # the first file with data blocks</span>
<span class="c1">#    filename.2.ttbin</span>
<span class="c1">#    filename.3.ttbin</span>
<span class="c1">#    ...</span>
</pre></div>
</div>
<p>In addition, the <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> will query and store the configuration of the Time Tagger in the same format as returned by the
<a class="reference internal" href="TimeTagger.html#TimeTaggerBase.getConfiguration" title="TimeTaggerBase.getConfiguration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeTaggerBase.getConfiguration()</span></code></a> method. The configuration is always written into every file.</p>
<p>See also: <a class="reference internal" href="#api-filereader"><span class="std std-ref">FileReader</span></a>, <a class="reference internal" href="TimeTagger.html#time-tagger-virtual"><span class="std std-ref">The TimeTaggerVirtual class</span></a>, and <a class="reference internal" href="TimeTaggerLibrary.html#mergeStreamFiles" title="mergeStreamFiles"><code class="xref py py-func docutils literal notranslate"><span class="pre">mergeStreamFiles()</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="FileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FileWriter" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – name of the file to store to</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – non-empty list of real or virtual channels</p></li>
</ul>
</dd>
</dl>
<p>Class constructor. As with all other measurements, the data recording starts
immediately after the class instantiation unless you initialize the <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> with a <a class="reference internal" href="#SynchronizedMeasurements" title="SynchronizedMeasurements"><code class="xref py py-class docutils literal notranslate"><span class="pre">SynchronizedMeasurements</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Compared to the <a class="reference internal" href="#Dump" title="Dump"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dump</span></code></a> measurement, the <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> requires
explicit specification of the channels.
If you want to store timetags from all input channels, you can query
the list of all input channels with <a class="reference internal" href="TimeTagger.html#TimeTagger.getChannelList" title="TimeTagger.getChannelList"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeTagger.getChannelList()</span></code></a>.</p>
</div>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="FileWriter.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">new_filename=&quot;&quot;</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#FileWriter.split" title="Permalink to this definition"></a></dt>
<dd><p>Close the current file and create a new one. If the <cite>new_filename</cite> is provided,
the data writing will continue into the file with the new filename and the sequence counter will be reset to zero.</p>
<p>You can force the file splitting when you call this method without parameter or when the <cite>new_filename</cite> is an empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – filename of the new file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileWriter.setMaxFileSize">
<span class="sig-name descname"><span class="pre">setMaxFileSize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_file_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FileWriter.setMaxFileSize" title="Permalink to this definition"></a></dt>
<dd><p>Set the maximum file size on disk. When this size is exceeded a new file
will be automatically created to continue recording.
The actual file size might be larger by one block. (default: ~1 GByte)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileWriter.getMaxFileSize">
<span class="sig-name descname"><span class="pre">getMaxFileSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FileWriter.getMaxFileSize" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The maximal file size. See also <a class="reference internal" href="#FileWriter.setMaxFileSize" title="FileWriter.setMaxFileSize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FileWriter.setMaxFileSize()</span></code></a>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileWriter.getTotalEvents">
<span class="sig-name descname"><span class="pre">getTotalEvents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FileWriter.getTotalEvents" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total number of events written into the file(s).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileWriter.getTotalSize">
<span class="sig-name descname"><span class="pre">getTotalSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FileWriter.getTotalSize" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total number of bytes written into the file(s).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="filereader">
<span id="api-filereader"></span><h3>FileReader<a class="headerlink" href="#filereader" title="Permalink to this heading"></a></h3>
<p>This class allows you to read data files store with <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a>. The <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a> reads a data block of the specified size into a <a class="reference internal" href="#TimeTagStreamBuffer" title="TimeTagStreamBuffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStreamBuffer</span></code></a> object and returns this object. The returned data object is exactly the same as returned by the <a class="reference internal" href="#TimeTagStream" title="TimeTagStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagStream</span></code></a> measurement and allows you to create a custom data processing algorithms that will work both, for reading from a file and for the on-the-fly processing.</p>
<p>The <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a> will automatically recognize if the files were split and read them too one by one.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lets assume we have following files created with the FileWriter</span>
<span class="c1">#  measurement.ttbin     # sequence header file with no data blocks</span>
<span class="c1">#  measurement.1.ttbin   # the first file with data blocks</span>
<span class="c1">#  measurement.2.ttbin</span>
<span class="c1">#  measurement.3.ttbin</span>
<span class="c1">#  measurement.4.ttbin</span>
<span class="c1">#  another_meas.ttbin</span>
<span class="c1">#  another_meas.1.ttbin</span>

<span class="c1"># Read all files in the sequence &#39;measurement&#39;</span>
<span class="n">fr</span> <span class="o">=</span> <span class="n">FileReader</span><span class="p">(</span><span class="s2">&quot;measurement.ttbin&quot;</span><span class="p">)</span>

<span class="c1"># Read only the first data file</span>
<span class="n">fr</span> <span class="o">=</span> <span class="n">FileReader</span><span class="p">(</span><span class="s2">&quot;measurement.1.ttbin&quot;</span><span class="p">)</span>

<span class="c1"># Read only the first two files</span>
<span class="n">fr</span> <span class="o">=</span> <span class="n">FileReader</span><span class="p">([</span><span class="s2">&quot;measurement.1.ttbin&quot;</span><span class="p">,</span> <span class="s2">&quot;measurement.2.ttbin&quot;</span><span class="p">])</span>

<span class="c1"># Read the sequence &#39;measurement&#39; and then the sequence &#39;another_meas&#39;</span>
<span class="n">fr</span> <span class="o">=</span> <span class="n">FileReader</span><span class="p">([</span><span class="s2">&quot;measurement.ttbin&quot;</span><span class="p">,</span> <span class="s2">&quot;another_meas.ttbin&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#api-filewriter"><span class="std std-ref">FileWriter</span></a>, <a class="reference internal" href="TimeTagger.html#time-tagger-virtual"><span class="std std-ref">The TimeTaggerVirtual class</span></a>, and <a class="reference internal" href="TimeTaggerLibrary.html#mergeStreamFiles" title="mergeStreamFiles"><code class="xref py py-func docutils literal notranslate"><span class="pre">mergeStreamFiles()</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="FileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FileReader" title="Permalink to this definition"></a></dt>
<dd><p>This is the class constructor. The <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a> automatically continues to read files that were split by the <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filenames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>]</em>) – filename(s) of the files to read.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="FileReader.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size_t</span> <span class="pre">n_events</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#FileReader.getData" title="Permalink to this definition"></a></dt>
<dd><p>Reads the next <cite>n_events</cite> and returns the buffer object with the specified number of timetags.
The FileReader stores the current location in the data file and guarantees that every timetag is returned once.
If less than <cite>n_elements</cite> are returned, the reader has reached the end
of the last file in the file-list <cite>filenames</cite>. To check if more data is available for reading, it is more convenient to use <a class="reference internal" href="#FileReader.hasData" title="FileReader.hasData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hasData()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n_events</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Number of timetags to read from the file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A buffer of size <cite>n_events</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#TimeTagStreamBuffer" title="TimeTagStreamBuffer">TimeTagStreamBuffer</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileReader.hasData">
<span class="sig-name descname"><span class="pre">hasData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FileReader.hasData" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if more data is available for reading, <cite>False</cite> if all data has been read from all the files specified in the class constructor.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileReader.getConfiguration">
<span class="sig-name descname"><span class="pre">getConfiguration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FileReader.getConfiguration" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A JSON formatted string (dictionary in Python) that contains the Time Tagger configuration at the time of file creation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="FileReader.getChannelList">
<span class="sig-name descname"><span class="pre">getChannelList</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FileReader.getChannelList" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>all channels available within the input file</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="dump">
<h3>Dump<a class="headerlink" href="#dump" title="Permalink to this heading"></a></h3>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 2.6.0: </span>please use <a class="reference internal" href="#FileWriter" title="FileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileWriter</span></code></a> instead.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The files created with this class are not readable by
<a class="reference internal" href="TimeTagger.html#TimeTaggerVirtual" title="TimeTaggerVirtual"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTaggerVirtual</span></code></a> and <a class="reference internal" href="#FileReader" title="FileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileReader</span></code></a>.</p>
</div>
<p>Writes the timetag stream into a file in a simple uncompressed binary format that store timetags as 128bit records, see <a class="reference internal" href="#time-tag-format"><span class="std std-ref">Time tag format</span></a>.</p>
<p>Please visit the programming examples provided in the installation folder of how to dump and load data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Dump">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dump" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – time tagger object instance</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – name of the file to dump to</p></li>
<li><p><strong>max_tags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – stop after this number of tags has been dumped. Negative values will dump forever</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – list of real or virtual channels which are dumped to the file (when empty or not passed all active channels are dumped)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="Dump.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dump.clear" title="Permalink to this definition"></a></dt>
<dd><p>Delete current data in the file and restart data storage.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dump.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dump.stop" title="Permalink to this definition"></a></dt>
<dd><p>Stops data recording and closes data file.</p>
</dd></dl>

</dd></dl>

</section>
<section id="scope">
<h3>Scope<a class="headerlink" href="#scope" title="Permalink to this heading"></a></h3>
<img alt="../_images/Scope.svg" src="../_images/Scope.svg" /><p>The <a class="reference internal" href="#Scope" title="Scope"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scope</span></code></a> class allows to visualize time tags for rising and falling edges in a time trace diagram similarly to an ultrafast logic analyzer. The trace recording is synchronized to a trigger signal which can be any physical or virtual channel. However, only physical channels can be specified to the <cite>event_channels</cite> parameter. Additionally, one has to specify the time <cite>window_size</cite> which is the timetrace duration to be recorded, the number of traces to be recorded and the maximum number of events to be detected. If <code class="docutils literal notranslate"><span class="pre">n_traces</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> then retriggering will occur infinitely, which is similar to the “normal” mode of an oscilloscope.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Scope class implicitly enables the detection of positive and negative edges for every physical channel specified in <cite>event_channels</cite>. This accordingly doubles the data rate requirement per input.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="Scope">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Scope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_channels=[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigger_channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_traces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_max_events</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Scope" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTagger" title="TimeTagger"><em>TimeTagger</em></a>) – TimeTagger object</p></li>
<li><p><strong>event_channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – List of channels</p></li>
<li><p><strong>trigger_channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Channel number of the trigger signal</p></li>
<li><p><strong>window_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Time window in picoseconds</p></li>
<li><p><strong>n_traces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Number of trigger events to be detected</p></li>
<li><p><strong>n_max_events</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Max number of events to be detected</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Scope.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Scope.getData" title="Permalink to this definition"></a></dt>
<dd><p>Returns a tuple of the size equal to the number of <cite>event_channels</cite> multiplied by <cite>n_traces</cite>, where each element is a tuple of <a class="reference internal" href="#Event" title="Event"><code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Event list for each trace.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference internal" href="#Event" title="Event">Event</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Scope.ready">
<span class="sig-name descname"><span class="pre">ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Scope.ready" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns whether the acquisition is complete which means that all traces (<cite>n_traces</cite>) are acquired.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Scope.triggered">
<span class="sig-name descname"><span class="pre">triggered</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Scope.triggered" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns number of trigger events have been captured so far.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Event">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Event</span></span><a class="headerlink" href="#Event" title="Permalink to this definition"></a></dt>
<dd><p>Pair of the timestamp and the new state.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="Event.time">
<span class="sig-name descname"><span class="pre">time</span></span><a class="headerlink" href="#Event.time" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Event.state">
<span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#Event.state" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#State" title="State">State</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="State">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">State</span></span><a class="headerlink" href="#State" title="Permalink to this definition"></a></dt>
<dd><p>Current input state. Can be unknown because no edge has been detected on the given channel after initialization or an overflow.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="State.UNKNOWN">
<span class="sig-name descname"><span class="pre">UNKNOWN</span></span><a class="headerlink" href="#State.UNKNOWN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="State.HIGH">
<span class="sig-name descname"><span class="pre">HIGH</span></span><a class="headerlink" href="#State.HIGH" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="State.LOW">
<span class="sig-name descname"><span class="pre">LOW</span></span><a class="headerlink" href="#State.LOW" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="sampler">
<h3>Sampler<a class="headerlink" href="#sampler" title="Permalink to this heading"></a></h3>
<img alt="../_images/Sampler.svg" src="../_images/Sampler.svg" /><p>The <a class="reference internal" href="#Sampler" title="Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> class allows sampling the state of a set of channels via a trigger channel.</p>
<p>For every event on the trigger input, the current state (low: 0, high: 1, unknown: 2)
will be written to an internal buffer. Fetching the data of the internal buffer will clear
its internal buffer, so every event will be returned only once.</p>
<p>Time Tagger detects pulse edges and therefore a channel will be in the unknown state until an edge detection event was received on that channel from the start of
the measurement or after an overflow.
The internal processing assumes that no event could be received within the channel’s deadtime otherwise invalid data will be reported until the next event on this input channel.</p>
<p>The maximum number of channels is limited to 63 for one <a class="reference internal" href="#Sampler" title="Sampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code></a> instance.</p>
<dl class="py class">
<dt class="sig sig-object py" id="Sampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_trigger</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Sampler" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTagger" title="TimeTagger"><em>TimeTagger</em></a>) – TimeTagger object</p></li>
<li><p><strong>trigger</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Channel number of the trigger signal</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>]</em>) – List of channels to be sampled</p></li>
<li><p><strong>max_trigger</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of triggers and their respective sampled data, which is stored within the measurement class.</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="Sampler.getData">
<span class="sig-name descname"><span class="pre">getData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Sampler.getData" title="Permalink to this definition"></a></dt>
<dd><p>Returns and removes the stored data as a 2D array (n_triggers x (1+n_channels)):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span><span class="n">timestamp</span> <span class="n">of</span> <span class="n">first</span> <span class="n">trigger</span><span class="p">,</span>  <span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">0</span><span class="p">,</span> <span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">1</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="p">[</span><span class="n">timestamp</span> <span class="n">of</span> <span class="n">second</span> <span class="n">trigger</span><span class="p">,</span> <span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">0</span><span class="p">,</span> <span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">1</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where state means:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">:</span> <span class="n">low</span>
<span class="mi">1</span><span class="p">:</span> <span class="n">high</span>
<span class="mi">2</span><span class="p">:</span> <span class="n">undefined</span> <span class="p">(</span><span class="n">after</span> <span class="n">overflow</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>sampled data</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Sampler.getDataAsMask">
<span class="sig-name descname"><span class="pre">getDataAsMask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Sampler.getDataAsMask" title="Permalink to this definition"></a></dt>
<dd><p>Returns and removes the stored data as a 2D array (n_triggers x 2):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span><span class="n">timestamp</span> <span class="n">of</span> <span class="n">first</span> <span class="n">trigger</span><span class="p">,</span>  <span class="p">(</span><span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span> <span class="o">|</span> <span class="p">(</span><span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">any_undefined</span> <span class="o">&lt;&lt;</span> <span class="mi">63</span><span class="p">],</span>
    <span class="p">[</span><span class="n">timestamp</span> <span class="n">of</span> <span class="n">second</span> <span class="n">trigger</span><span class="p">,</span> <span class="p">(</span><span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span> <span class="o">|</span> <span class="p">(</span><span class="n">state</span> <span class="n">of</span> <span class="n">channel</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="o">...</span> <span class="o">|</span> <span class="n">any_undefined</span> <span class="o">&lt;&lt;</span> <span class="mi">63</span><span class="p">],</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Where state means:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">:</span> <span class="n">low</span> <span class="ow">or</span> <span class="n">undefined</span> <span class="p">(</span><span class="n">after</span> <span class="n">overflow</span><span class="p">)</span>
<span class="mi">1</span><span class="p">:</span> <span class="n">high</span>
</pre></div>
</div>
<p>If the highest bit (data[63]) is marked, one of the channels has been in an undefined state.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>sampled data</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>2D_array[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="helper-classes">
<h2>Helper classes<a class="headerlink" href="#helper-classes" title="Permalink to this heading"></a></h2>
<section id="synchronizedmeasurements">
<h3>SynchronizedMeasurements<a class="headerlink" href="#synchronizedmeasurements" title="Permalink to this heading"></a></h3>
<p>The <cite>SynchronizedMeasurements</cite> class allows for synchronizing multiple measurement classes in a way that ensures all these measurements to start, stop simultaneously and operate on exactly the same time tags.
You can pass a Time Tagger proxy-object returned by <a class="reference internal" href="#SynchronizedMeasurements.getTagger" title="SynchronizedMeasurements.getTagger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SynchronizedMeasurements.getTagger()</span></code></a> to every measurement you create. This will simultaneously disable their autostart and register for synchronization.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SynchronizedMeasurements">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SynchronizedMeasurements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – TimeTagger object</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.registerMeasurement">
<span class="sig-name descname"><span class="pre">registerMeasurement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measurement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.registerMeasurement" title="Permalink to this definition"></a></dt>
<dd><p>Registers the <cite>measurement</cite> object into a pool of the synchronized measurements.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Registration of the measurement classes with this method does not synchronize them. In order to start/stop/clear these measurements synchronously, call these functions on the <a class="reference internal" href="#SynchronizedMeasurements" title="SynchronizedMeasurements"><code class="xref py py-class docutils literal notranslate"><span class="pre">SynchronizedMeasurements</span></code></a> object after registering the measurement objects, which should be synchronized.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>measurement</strong> – Any measurement (<a class="reference internal" href="#IteratorBase" title="IteratorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">IteratorBase</span></code></a>) object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.unregisterMeasurement">
<span class="sig-name descname"><span class="pre">unregisterMeasurement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measurement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.unregisterMeasurement" title="Permalink to this definition"></a></dt>
<dd><p>Unregisters the <cite>measurement</cite> object out of the pool of the synchronized measurements.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method does nothing if the provided measurement is not currently registered.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>measurement</strong> – Any measurement (<a class="reference internal" href="#IteratorBase" title="IteratorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">IteratorBase</span></code></a>) object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.start" title="Permalink to this definition"></a></dt>
<dd><p>Calls <a class="reference internal" href="#IteratorBase.start" title="IteratorBase.start"><code class="xref py py-meth docutils literal notranslate"><span class="pre">start()</span></code></a> for every registered measurement in a synchronized way.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.startFor">
<span class="sig-name descname"><span class="pre">startFor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duration</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">clear=True</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.startFor" title="Permalink to this definition"></a></dt>
<dd><p>Calls <a class="reference internal" href="#IteratorBase.startFor" title="IteratorBase.startFor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startFor()</span></code></a> for every registered measurement in a synchronized way.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.stop" title="Permalink to this definition"></a></dt>
<dd><p>Calls <a class="reference internal" href="#IteratorBase.stop" title="IteratorBase.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a> for every registered measurement in a synchronized way.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.clear" title="Permalink to this definition"></a></dt>
<dd><p>Calls <a class="reference internal" href="#SynchronizedMeasurements.clear" title="SynchronizedMeasurements.clear"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear()</span></code></a> for every registered measurement in a synchronized way.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.isRunning">
<span class="sig-name descname"><span class="pre">isRunning</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.isRunning" title="Permalink to this definition"></a></dt>
<dd><p>Calls <a class="reference internal" href="#IteratorBase.isRunning" title="IteratorBase.isRunning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isRunning()</span></code></a> for every registered measurement and returns true if any measurement is running.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SynchronizedMeasurements.getTagger">
<span class="sig-name descname"><span class="pre">getTagger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SynchronizedMeasurements.getTagger" title="Permalink to this definition"></a></dt>
<dd><p>Returns a proxy tagger object which can be passed to the constructor of a measurement class to register the measurements at initialization to the synchronized measurement object. Those measurements will not start automatically.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The proxy tagger object returned by <a class="reference internal" href="#SynchronizedMeasurements.getTagger" title="SynchronizedMeasurements.getTagger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTagger()</span></code></a> is not identical with the <a class="reference internal" href="TimeTagger.html#TimeTagger" title="TimeTagger"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeTagger</span></code></a> object created by <a class="reference internal" href="TimeTaggerLibrary.html#createTimeTagger" title="createTimeTagger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">createTimeTagger()</span></code></a>. You can create synchronized measurements with the proxy object the following way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tagger</span> <span class="o">=</span> <span class="n">TimeTagger</span><span class="o">.</span><span class="n">createTimeTagger</span><span class="p">()</span>
<span class="n">syncMeas</span> <span class="o">=</span> <span class="n">TimeTagger</span><span class="o">.</span><span class="n">SynchronizedMeasurements</span><span class="p">(</span><span class="n">tagger</span><span class="p">)</span>
<span class="n">taggerSync</span> <span class="o">=</span> <span class="n">syncMeas</span><span class="o">.</span><span class="n">getTagger</span><span class="p">()</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">TimeTagger</span><span class="o">.</span><span class="n">Counter</span><span class="p">(</span><span class="n">taggerSync</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">countrate</span> <span class="o">=</span> <span class="n">TimeTagger</span><span class="o">.</span><span class="n">Countrate</span><span class="p">(</span><span class="n">taggerSync</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>Passing <cite>tagger</cite> as a constructor parameter would lead to the not synchronized behavior.</p>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="custom-measurements">
<span id="api-custommeasurements"></span><h2>Custom Measurements<a class="headerlink" href="#custom-measurements" title="Permalink to this heading"></a></h2>
<p>The class <a class="reference internal" href="#CustomMeasurement" title="CustomMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomMeasurement</span></code></a> allows you to access the raw time tag stream with very little overhead.
By inheriting from <a class="reference internal" href="#CustomMeasurement" title="CustomMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomMeasurement</span></code></a>, you can implement your fully customized measurement class. The <a class="reference internal" href="#CustomMeasurement.process" title="CustomMeasurement.process"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CustomMeasurement.process()</span></code></a> method of this class
will be invoked as soon as new data is available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This functionality is only available for C++, C# and Python.
You can find examples of how to use the <a class="reference internal" href="#CustomMeasurement" title="CustomMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomMeasurement</span></code></a> in your examples folder.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="CustomMeasurement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CustomMeasurement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagger</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CustomMeasurement" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tagger</strong> (<a class="reference internal" href="TimeTagger.html#TimeTaggerBase" title="TimeTaggerBase"><em>TimeTaggerBase</em></a>) – TimeTagger object</p>
</dd>
</dl>
<p>The constructor of the <a class="reference internal" href="#CustomMeasurement" title="CustomMeasurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomMeasurement</span></code></a> class itself takes only the parameter <cite>tagger</cite>. When you sub-class your own measurement,
you can add to your constructor any parameters that are necessary for your measurement. You can find detailed examples in your example folder.</p>
<p><a class="reference internal" href="#common-methods"><span class="std std-ref">See all common methods</span></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="CustomMeasurement.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incoming_tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CustomMeasurement.process" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>incoming_tags</strong> – Tag[][struct{type, missed_events, channel, time}], the chunk of time-tags to be processed in this call of
<a class="reference internal" href="#CustomMeasurement.process" title="CustomMeasurement.process"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process()</span></code></a>. This is an external reference that is shared with other measurements and might be overwritten for the next
call. So if you need to store tags, create a copy.</p></li>
<li><p><strong>begin_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The begin time of the data chunk.</p></li>
<li><p><strong>end_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The end time of the data chunk</p></li>
</ul>
</dd>
</dl>
<p>Override the <a class="reference internal" href="#CustomMeasurement.process" title="CustomMeasurement.process"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process()</span></code></a> method to include your data processing.
The method will be called by the Time Tagger backend when a new chunk of time-tags is available.
You are free to execute any code you like, but be aware that this
is the critical part when it comes to performance. In Python, it is advisable to use
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.25)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.array()</span></code></a> for calculation or even pre-compiled code with
<a class="reference external" href="https://numba.pydata.org/">Numba</a> if an explicit iteration of the tags is necessary. Check the examples in your examples folder
carefully on how to design the <a class="reference internal" href="#CustomMeasurement.process" title="CustomMeasurement.process"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process()</span></code></a> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Python, the <cite>incoming_tags</cite> are a <a class="reference external" href="https://numpy.org/doc/stable/user/basics.rec.html#structured-arrays" title="(in NumPy v1.25)"><span class="xref std std-ref">structured Numpy array</span></a>.
You can access single tags as well as arrays of tag entries directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">first_tag</span> <span class="o">=</span> <span class="n">incoming_tags</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">all_timestamps</span> <span class="o">=</span> <span class="n">incoming_tags</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CustomMeasurement.mutex">
<span class="sig-name descname"><span class="pre">mutex</span></span><a class="headerlink" href="#CustomMeasurement.mutex" title="Permalink to this definition"></a></dt>
<dd><p>Context manager object (see <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#typecontextmanager" title="(in Python v3.11)"><span>Context Manager Types</span></a>) that locks the mutex when used and automatically unlocks it when the code block exits.
For example, it is intended for use with Python’s <a class="reference external" href="https://docs.python.org/3/reference/compound_stmts.html#with" title="(in Python v3.11)"><span class="xref std std-ref">“with” keyword</span></a> as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyMeasurement</span><span class="p">(</span><span class="n">CustomMeasurement</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Acquire a lock for this instance to guarantee that</span>
        <span class="c1"># self.data is not modified in other parallel threads.</span>
        <span class="c1"># This ensures to return a consistent data.</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutex</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="VirtualChannels.html" class="btn btn-neutral float-left" title="Virtual Channels" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../InDepthGuides/index.html" class="btn btn-neutral float-right" title="In Depth Guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Swabian Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>